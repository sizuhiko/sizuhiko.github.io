<!doctype html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8" />
    <meta http-equiv='X-UA-Compatible' content='IE=edge;chrome=1' />
    <title>sizuhiko - Technote</title>
    <link rel="shortcut icon" href="/imgages/favicon.ico" type="image/x-icon">
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="/stylesheets/main.css" type="text/css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/shareon@2/dist/shareon.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/shareon@2/dist/shareon.iife.js" defer init></script>    
    <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/feed.xml" />

    <!--[if lte IE 8]>
      <link rel="stylesheet" href="/stylesheets/browsers/ie.css" type="text/css">
      <script src="/javascripts/browsers/ie8.js"></script>
      <script defer src="/javascripts/browsers/ie-css3.js"></script>
    <![endif]-->
    <!--[if IE 6]>
      <link rel="stylesheet" href="/styleseets/browsers/ie6.css" type="text/css">
    <![endif]-->
    <!--[if IE 7]>
      <link rel="stylesheet" href="/styleseets/browsers/ie7.css" type="text/css">
    <![endif]-->
    <!--[if IE 8]>
      <link rel="stylesheet" href="/stylesheets/browsers/ie8.css" type="text/css">
    <![endif]-->
    <style type="text/css">
      @media all and (max-width:680px) {
        #blogtools a, #blogtools a:link, #blogtools a:visited { position:relative; top:0; margin:0 0 5px 10px; float:left; background:#f1f1f1; color:#111; border:1px solid #888; }
        #postcontent, #posttitle { width:100%; }
        #qppreview { display:none; }
        #qpsubmit { width:auto !important; float:none; line-height:1.4; height:auto; margin:7px 0; }
        #postform b { display:block; }
        #sharing { float:none; padding-top:3px; }
        }
    </style>
    <style type="text/css">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .cm {
  color: #999988;
  font-style: italic;
}
.highlight .cp {
  color: #999999;
  font-weight: bold;
}
.highlight .c1 {
  color: #999988;
  font-style: italic;
}
.highlight .cs {
  color: #999999;
  font-weight: bold;
  font-style: italic;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #999988;
  font-style: italic;
}
.highlight .err {
  color: #a61717;
  background-color: #e3d2d2;
}
.highlight .gd {
  color: #000000;
  background-color: #ffdddd;
}
.highlight .ge {
  color: #000000;
  font-style: italic;
}
.highlight .gr {
  color: #aa0000;
}
.highlight .gh {
  color: #999999;
}
.highlight .gi {
  color: #000000;
  background-color: #ddffdd;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
  font-weight: bold;
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .gt {
  color: #aa0000;
}
.highlight .kc {
  color: #000000;
  font-weight: bold;
}
.highlight .kd {
  color: #000000;
  font-weight: bold;
}
.highlight .kn {
  color: #000000;
  font-weight: bold;
}
.highlight .kp {
  color: #000000;
  font-weight: bold;
}
.highlight .kr {
  color: #000000;
  font-weight: bold;
}
.highlight .kt {
  color: #445588;
  font-weight: bold;
}
.highlight .k, .highlight .kv {
  color: #000000;
  font-weight: bold;
}
.highlight .mf {
  color: #009999;
}
.highlight .mh {
  color: #009999;
}
.highlight .il {
  color: #009999;
}
.highlight .mi {
  color: #009999;
}
.highlight .mo {
  color: #009999;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #009999;
}
.highlight .sa {
  color: #000000;
  font-weight: bold;
}
.highlight .sb {
  color: #d14;
}
.highlight .sc {
  color: #d14;
}
.highlight .sd {
  color: #d14;
}
.highlight .s2 {
  color: #d14;
}
.highlight .se {
  color: #d14;
}
.highlight .sh {
  color: #d14;
}
.highlight .si {
  color: #d14;
}
.highlight .sx {
  color: #d14;
}
.highlight .sr {
  color: #009926;
}
.highlight .s1 {
  color: #d14;
}
.highlight .ss {
  color: #990073;
}
.highlight .s, .highlight .dl {
  color: #d14;
}
.highlight .na {
  color: #008080;
}
.highlight .bp {
  color: #999999;
}
.highlight .nb {
  color: #0086B3;
}
.highlight .nc {
  color: #445588;
  font-weight: bold;
}
.highlight .no {
  color: #008080;
}
.highlight .nd {
  color: #3c5d5d;
  font-weight: bold;
}
.highlight .ni {
  color: #800080;
}
.highlight .ne {
  color: #990000;
  font-weight: bold;
}
.highlight .nf, .highlight .fm {
  color: #990000;
  font-weight: bold;
}
.highlight .nl {
  color: #990000;
  font-weight: bold;
}
.highlight .nn {
  color: #555555;
}
.highlight .nt {
  color: #000080;
}
.highlight .vc {
  color: #008080;
}
.highlight .vg {
  color: #008080;
}
.highlight .vi {
  color: #008080;
}
.highlight .nv, .highlight .vm {
  color: #008080;
}
.highlight .ow {
  color: #000000;
  font-weight: bold;
}
.highlight .o {
  color: #000000;
  font-weight: bold;
}
.highlight .w {
  color: #bbbbbb;
}
.highlight {
  background-color: #f8f8f8;
}
    </style>
  </head>
  <body id="myopera" data-twttr-rendered="true">
    <!--[if IE 6]><div class="ie6"><![endif]-->
    <!--[if IE 7]><div class="ie7"><![endif]-->
    <!--[if IE 8]><div class="ie8"><![endif]-->
    <!--[if IE 9]><div class="ie9"><![endif]-->
    <div id="wrap0"><div id="wrap1"><div id="wrap2"><div id="wrap3"><div id="wrap4">

    <header id="top" class="top-blog">
      <div id="top2">
        <h1><a href="/" title="home"><span>Technote</span></a></h1>
        <p id="subtitle"><span>by sizuhiko</span></p>
      </div>
    </header>

    <main id="content" class="blogfront">
      <div id="mainwrap">
        <div id="main">

          <article>
  <h1 class="title"><a href="/2019/06/09/jsfes-2019-spring.html">初夏のJavaScript祭りに参加して、Import mapsについてLTをしました</a></h1>
  <p class="postdate"><a href="/2019/06/09.html" title="Permanent link">Sunday, June 09, 2019 02:43:00 PM</a></p>
  <p class="tags">
      <a href="/tags/webcomponents.html" rel="tag">WebComponents</a>
      <a href="/tags/import-maps.html" rel="tag">import maps</a>
  </p>
  <div class="content">
    <!-- use article.summary(250) if you have Nokogiri available to show just
       the first 250 characters -->
    <p><a href="https://javascript-fes.doorkeeper.jp/events/90894">6/1に開催されたJavaScript祭りに参加しました</a></p>

<p><img src="https://dzpp79ucibp5a.cloudfront.net/events_banners/90894_normal_1556002686_jsfes2019.png" alt="" /></p>

<p>いつもと同様にLT枠へ申し込みましたが、今回はPolymerではありません。
とは言いつつ、WebComponentsに関してもとても重要な仕様となる<a href="https://github.com/WICG/import-maps">import maps</a>について、最近Blogにまとめた内容について発表してきました。</p>

<p>さて、私のスライドは以下のとおりです。</p>

<script async class="speakerdeck-embed" data-id="912b2dfa5d154da6878af26b60aa5b7e" data-ratio="1.33333333333333" src="//speakerdeck.com/assets/embed.js"></script>

<p>イベントでは他にもとても楽しいセッションが多く、盛り上がりました。
また参加したいと思います。</p>



    <div class="row">
      <div class="small-12 medium-5 large-5 small-centered columns blog-social">
        <div class="shareon" data-url="http://blog.open.tokyo.jp/2019/06/09/jsfes-2019-spring.html">
          <a class="twitter" data-title="初夏のJavaScript祭りに参加して、Import mapsについてLTをしました"></a>
          <a class="facebook" data-title="初夏のJavaScript祭りに参加して、Import mapsについてLTをしました"></a>
        </div>
      </div>
      <div class="clearfix"></div>
    </div>

  </div>
</article>
<article>
  <h1 class="title"><a href="/2019/05/31/polymer-co-edo-meetup-25.html">Polymer.co-edo  meetup ＃25を開催しました</a></h1>
  <p class="postdate"><a href="/2019/05/31.html" title="Permanent link">Friday, May 31, 2019 02:43:00 PM</a></p>
  <p class="tags">
      <a href="/tags/polymer.html" rel="tag">Polymer</a>
      <a href="/tags/polymer-co-edo.html" rel="tag">Polymer.co-edo</a>
  </p>
  <div class="content">
    <!-- use article.summary(250) if you have Nokogiri available to show just
       the first 250 characters -->
    <p>2019年4回目となる <a href="https://polymercoedo.doorkeeper.jp/events/91906">Polymer.co-edo ミートアップ</a> を開催しました。</p>

<p>前回 <code>edo-blogcard</code> の作成に入りましたが、実際はWebサイトのデータを収集するためには、スクレイピングする必要があります。
ブラウザからはCORSになってしまうため、そういったOSSや、サーバー側のアーキテクチャの調査をしていました。
個人的には少しずつアイデアが固まってきたので、会社の合宿でまとめていきたいなぁと思っています。</p>

<h3>次回</h3>

<p>引き続きEdoエレメントの開発ともくもくを進めていきます。
皆様の参加をお待ちしております。</p>

<p><a href="https://polymercoedo.doorkeeper.jp/">Doorkeeperのコミュニティページ</a></p>



    <div class="row">
      <div class="small-12 medium-5 large-5 small-centered columns blog-social">
        <div class="shareon" data-url="http://blog.open.tokyo.jp/2019/05/31/polymer-co-edo-meetup-25.html">
          <a class="twitter" data-title="Polymer.co-edo  meetup ＃25を開催しました"></a>
          <a class="facebook" data-title="Polymer.co-edo  meetup ＃25を開催しました"></a>
        </div>
      </div>
      <div class="clearfix"></div>
    </div>

  </div>
</article>
<article>
  <h1 class="title"><a href="/2019/05/19/i-o-extended-2019-tokyo-gdg.html">I/O Extended 2019 Tokyo@GDG で、Web技術に関するLTを話してきました</a></h1>
  <p class="postdate"><a href="/2019/05/19.html" title="Permanent link">Sunday, May 19, 2019 07:26:00 PM</a></p>
  <p class="tags">
      <a href="/tags/google-i-o.html" rel="tag">Google I/O</a>
  </p>
  <div class="content">
    <!-- use article.summary(250) if you have Nokogiri available to show just
       the first 250 characters -->
    <p>前回の記事でも書いた<a href="https://gdg-tokyo.connpass.com/event/128867/">I/O Extended 2019 Tokyo@GDG</a>で話してきました。</p>

<p>Twitterでも、イベントサイトの資料でも共有しましたが、スライドを添付しておきます。</p>

<script async class="speakerdeck-embed" data-id="a26c79df0da54af285994d93bc6288a1" data-ratio="1.33333333333333" src="//speakerdeck.com/assets/embed.js"></script>

<p>朝から夕方まで、とても幅広い話題がたくさんあり、勉強になりました。</p>

<p>Room1の様子は動画がありますので、こちらからどうぞ。
私はRoom2だったので、ありませんがw</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/LOiFe7ztZCo" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>



    <div class="row">
      <div class="small-12 medium-5 large-5 small-centered columns blog-social">
        <div class="shareon" data-url="http://blog.open.tokyo.jp/2019/05/19/i-o-extended-2019-tokyo-gdg.html">
          <a class="twitter" data-title="I/O Extended 2019 Tokyo@GDG で、Web技術に関するLTを話してきました"></a>
          <a class="facebook" data-title="I/O Extended 2019 Tokyo@GDG で、Web技術に関するLTを話してきました"></a>
        </div>
      </div>
      <div class="clearfix"></div>
    </div>

  </div>
</article>
<article>
  <h1 class="title"><a href="/2019/05/15/google-i-o-2019.html">Google I/O 2019ふりかえり</a></h1>
  <p class="postdate"><a href="/2019/05/15.html" title="Permanent link">Wednesday, May 15, 2019 06:57:00 PM</a></p>
  <p class="tags">
      <a href="/tags/google-i-o.html" rel="tag">Google I/O</a>
  </p>
  <div class="content">
    <!-- use article.summary(250) if you have Nokogiri available to show just
       the first 250 characters -->
    <p>タイトルを見ると、現地に行ったみたいですが、実際は行ってなくて Youtube のビデオで Webの全セッションを見ました。
なんでかというと、今週末に <a href="https://gdg-tokyo.connpass.com/event/128867/">I/O Extended 2019 Tokyo@GDG</a>というイベントがあって、Polymer JapanはGDGのコミュニティなんで、何かWebで喋ることになったためです。</p>

<p>Web Componentsの発表とかがあるわけではなかったのですが、何かWebで&hellip;と思い、ひたすら3日分（実際Webは数少ないけど）見たので、発表しない内容も含め、メモをブログ記事にしておこうと思います。
ということで、長文です。</p>

<h3>Chrome and Web</h3>

<p>Web系の基調講演です。
ハイライトは以下のとうな感じ。</p>

<ul>
<li>Chromeの速度が改善、特にAndroid端末で</li>
<li>V8は20%のメモリ改善、JSの解析2倍速、async/awaitが11倍速く</li>
<li>画像(imgタグ)のlazy loading

<ul>
<li>iframeでも利用可能</li>
</ul></li>
<li>lighthouseにbudget.jsonを追加して細かいパフォーマンスを取得できる</li>
</ul>

<h4>表示を速くするもの</h4>

<p>パフォーマンスの改善が重要なテーマで、以下のようなものに取り組んでいる。</p>

<h5>Portals</h5>

<ul>
<li>ナビゲートできるiframeみたいなもの</li>
<li>サンプル

<ul>
<li>www.mealplan.family</li>
<li>www.nomnom.social</li>
<li>www.osmani.recipes</li>
<li>www.grocery.store</li>
</ul></li>
<li>となりのヤングジャンプ</li>
<li>Chrome Canaryで使える</li>
</ul>

<h5>Web Packaging</h5>

<ul>
<li>Signed package（chrome canaryで)</li>
<li>AMPで使えるようになる</li>
</ul>

<h4>強力な機能</h4>

<p>機能面では以下のようなことがある。</p>

<ul>
<li><p>Chromebook でPWAアプリが登録可能に</p>

<ul>
<li>hulu / slack / STADIA / </li>
</ul></li>
<li><p>PROXX 、2019のマインスイーパー</p>

<ul>
<li>preact , web worker</li>
<li>proxx.app</li>
<li>githubでソースを公開</li>
</ul></li>
<li><p>アシスタント</p>

<ul>
<li>duplex</li>
<li>翻訳して一部を表示できる</li>
</ul></li>
<li><p>ネイティブのような機能</p>

<ul>
<li>Native File System Access</li>
<li>Unlimited Quata</li>
<li>Contacts Picker</li>
<li>MIME-type Handlers</li>
<li>SMS-based Authentication</li>
<li>これらはプロジェクトfuguで管理している。</li>
</ul></li>
</ul>

<h3>Building Successful Websites: Case Studies for Mature and Emerging Markets</h3>

<p>新興国ではPWAアプリが重要（回線速度や端末スペックによる）。
目玉の機能としては、Web Share API。ネイティブに近い共有機能が使えるようになった。</p>

<ul>
<li>Twitter Liteの例</li>
<li>Times Internetの例</li>
<li>Huluの例</li>
</ul>

<h3>Elevating the Web Platform with the JavaScript Framework Community</h3>

<p>Googleが各JavaScriptフレームワーク（おもにReact/Facebook）と協力してAPI開発を進めている</p>

<ul>
<li>Chunking code</li>
<li>Scheduling API

<ul>
<li>WICG/main-thread-scheduling</li>
</ul></li>
<li>isInputPending

<ul>
<li>WICG/is-input-pending</li>
</ul></li>
<li>Display Locking

<ul>
<li>WICG/display-locking</li>
</ul></li>
</ul>

<p>現時点の課題としては、npm/バンドルの重複がある。
これを防ぎたい。package.jsonへesmoduleが入れられないか。
現時点は情報が不足しているため、重複を防ぐことができない。何かしらの形で足りれば役に立つ。ということ
-&gt;import mapsにはふれなかった。</p>

<h3>Rapidly Building Better Web Experiences with AMP</h3>

<p>AMPの基調講演にあたる。</p>

<ul>
<li>AMPはパフォーマンス問題を解決するために立ち上がったOSS</li>
<li>HTML上で動作するライブラリ</li>
<li>パフォーマンスを向上するためのもの</li>
<li>キャッシュを有効にします</li>
<li>事前にレンダリングできるようにするためのものです</li>
</ul>

<h4>成功事例</h4>

<ul>
<li>Teads</li>
<li>tokopedia</li>
<li>INDIA TODAY</li>
<li>もっとたくさんある</li>
<li>昨年Google検索からAMPページへのクリック率は30%増加した</li>
</ul>

<h4>新しい技術</h4>

<ul>
<li>ads</li>
<li>email</li>
<li>stories</li>
<li>websites</li>
</ul>

<p>A string user-first open web forever</p>

<h5>Websites</h5>

<p>これまではHTMLとCSS。不自由だった。</p>

<p>WorkerDOMによってJSを利用可能にする。
amp-scriptを実行できるようになる。
ワシントンポストの例
bit.lt/amp-script-trial</p>

<p>OriginTrialで利用可能になる</p>

<p>NEXT.jsでAMP対応できるようになる
bit.ly/next-js-amp</p>

<p>Webパッケージングで署名付きパッケージにすることで、google.comから独自のドメインに展開できる。
自前で用意するか、AMP Packagerで作る方法。
AMP Real URL（Cloudflare）</p>

<h6>新機能</h6>

<p>これまでは、HTMLにAMPページのリンクがあった。
これは2つのバージョンのコンテンツを常に2つ用意することになる。
余分なオーバーヘッドが生まれる。
AMP Firstアプローチを提案する。</p>

<p>AMPで作り始め、足りないところを amp-script でビジネスロジックに補完する。
それでも足りないこと、それを Bento AMP プロジェクトで助ける。</p>

<p>PWA &lt;&ndash;&gt; AMP</p>

<p>PWAでサービスワーカーを作るのはとても大変、でもAMPなら1行でできる。
bit.ly/amp-sw</p>

<p>amp.devではそれを利用している。</p>

<p>AMPでは、アクセシビリティ、パフォーマンスを達成できる。
そして、依存関係管理が楽になる。
AMPは常に最新です。</p>

<p>LTS（LTメンテナンス）
800以上のコントリビューターがあなたのメンテナンスコストを減らす。</p>

<ul>
<li>無限スクロール( amp-list で利用可能 )</li>
<li>オートコンプリート bit.ly/amp-autocomplete （実験的）</li>
<li>カルーセル（まもなく）</li>
<li>新しい Loaders</li>
</ul>

<p>amp-toolbox-optimizer
go.amp.dev/optimize-amp</p>

<h5>収益化</h5>

<p>AMPHTML Ads</p>

<p>AMPページと、非AMPページのどちらにも適用できる。</p>

<p>とにかく速い。</p>

<p>ampifyme</p>

<p>amp-analytics 解析
amp-linker 
amp-recaptcha
amp-readiness
amp-tag-test
amp-insight</p>

<p>A/Bテスト</p>

<p>amp-experiment
optimizely + Oracle maxymiser で利用可能</p>

<h5>アップデート</h5>

<h6>AMP Stories</h6>

<p>Story Ads</p>

<p>フルスクリーンの広告を表示できる。</p>

<p>Google Ad Managerにあるので、AMPに配信できる。</p>

<p>Storiesを作るツール類</p>

<ul>
<li>MakeStories</li>
<li>Newsroom Studio</li>
<li>WordPress</li>
<li>Unfold</li>
</ul>

<p>Google Discoverでストーリーを見つけることができる</p>

<p>検索結果にビジュアルストーリーを表示するブロックができると思う。</p>

<h6>AMP for Email</h6>

<ul>
<li>@mail</li>
<li>yahoo mail</li>
<li>Outlook</li>
</ul>

<h4>まとめ</h4>

<p>広告に関する大きな変化をもたらした。
Webサイトの収益化</p>

<p>ロードマップ</p>

<ul>
<li>Websites

<ul>
<li>Payments</li>
<li>Adaptive CSS Limit</li>
<li>Transitions</li>
<li>Stateful pages</li>
</ul></li>
<li>Stories

<ul>
<li>Embeds</li>
<li>Animations</li>
<li>Reactions</li>
<li>Branching</li>
</ul></li>
<li>Ads

<ul>
<li>Coverage</li>
<li>Capabilities</li>
<li>Performance</li>
</ul></li>
<li>Emails

<ul>
<li>Capabilities</li>
<li>Video Support</li>
<li>More components</li>
</ul></li>
</ul>

<h3>What’s New in JavaScript</h3>

<p>JavaScriptの新しい機能について。</p>

<ul>
<li>TC39</li>
<li>V8のスピードアップはNode.jsにも貢献している。</li>
</ul>

<h4>新しくなったもの</h4>

<h5>class</h5>

<p>コンストラクタなしで、プロパティの初期値が指定できるように</p>
<div class="highlight"><pre class="highlight javascript"><code><span class="kd">class</span> <span class="nx">hoge</span> <span class="p">{</span>
  <span class="nx">_foo</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

</code></pre></div>
<p><code>#</code> をつけて privateにできる</p>
<div class="highlight"><pre class="highlight javascript"><code><span class="kd">class</span> <span class="nx">hoge</span> <span class="p">{</span>
  <span class="err">#</span><span class="nx">foo</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

  <span class="kd">get</span> <span class="nx">value</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="err">#</span><span class="nx">foo</span> <span class="p">}</span>

</code></pre></div>
<p>継承すると</p>
<div class="highlight"><pre class="highlight javascript"><code><span class="kd">class</span> <span class="nx">Animal</span> <span class="p">{</span>
  <span class="kd">constructor</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>   
<span class="kd">class</span> <span class="nx">Cat</span> <span class="kd">extends</span> <span class="nx">Animal</span> <span class="p">{</span>
  <span class="nx">likeBath</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span> <span class="c1">// コンストラクタの呼び出しが必要ない。super呼び出し不要</span>
  <span class="nx">meow</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Meow</span><span class="dl">"</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

</code></pre></div>
<p>String#matchAll でマッチした部分や、部分一致の部分など取得しやすくなった。</p>

<p>1000000000000
みたいな数字を
1<em>000</em>000<em>000</em>000 
と区切り付きで書けるようになる。
読みやすい&hellip;らしい(Babelで使えるよ！</p>

<p>Bigints
新しい機能（ロケールつき）</p>
<div class="highlight"><pre class="highlight javascript"><code><span class="nx">nf</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Intl</span><span class="p">.</span><span class="nx">NumberFormat</span><span class="p">(</span><span class="dl">'</span><span class="s1">fr</span><span class="dl">'</span><span class="p">);</span>
<span class="nx">nf</span><span class="p">.</span><span class="nx">format</span><span class="p">(</span><span class="mi">12345678901234567890</span><span class="nx">n</span><span class="p">)</span>

<span class="mi">12</span> <span class="mi">345</span> <span class="mi">678</span> <span class="mi">901</span> <span class="mi">234</span> <span class="mi">567</span> <span class="mi">890</span>


<span class="mi">12</span><span class="nx">_345_678_901_234_567_890n</span><span class="p">.</span><span class="nx">toLocaleString</span><span class="p">(</span><span class="dl">'</span><span class="s1">fr</span><span class="dl">'</span><span class="p">)</span> <span class="c1">// 同じ</span>
</code></pre></div>
<p>Firefox, Node.js で使える。Polyfillもあるよ</p>

<h5>Array#{ flat, flatMap }</h5>
<div class="highlight"><pre class="highlight javascript"><code><span class="nx">array</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">3</span><span class="p">]]];</span>
<span class="nx">array</span><span class="p">.</span><span class="nx">flat</span><span class="p">()</span>

<span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">3</span><span class="p">]]</span>

<span class="nx">array</span><span class="p">.</span><span class="nx">flat</span><span class="p">(</span><span class="kc">Infinity</span><span class="p">)</span>
<span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>

<span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">].</span><span class="nx">flatMap</span><span class="p">(</span><span class="nx">x</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="nx">x</span><span class="p">,</span> <span class="nx">x</span><span class="p">])</span>
<span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
</code></pre></div>
<p>どこでも使えるよ！</p>

<h5>Object.fromEntries</h5>

<p>Object.entries したものを、オブジェクトに戻せるAPI</p>

<p>map = new Map(Object.entries(obj));
Object.fromEntries(map) もできるよ！</p>

<p>どこでも使えるよ！Polyfillもあるよ</p>

<h5>globalThis</h5>

<p>どこでも使えるよ！</p>

<h5>Stable sort</h5>

<p>安全ソートがすべてのプラットフォームで使えるようになったよ</p>

<h5>Intl</h5>

<h6>Intl.RelativeTimeFormat</h6>

<p>Safari以外で使えるよ</p>

<h6>Intl.listFormat</h6>

<p>ChromeとNodeだけね。Polyfillはあるよ</p>

<h6>Intl.DateFormat#formatRange</h6>

<p>Chromeだけで、flagが必要</p>

<h6>Intl.Locale</h6>

<p>ChromeとNodeだけね。Polyfillはあるよ</p>

<h5>トップレベル await</h5>

<p>まだ使わないでね</p>

<h5>Promise</h5>

<ul>
<li>Promise.allSettled

<ul>
<li>ChromeとFirefox, polyfill</li>
</ul></li>
<li>Promise.any

<ul>
<li>まだ</li>
</ul></li>
</ul>

<h5>WeakRef</h5>

<p>画像をキャッシュしたいときなどにmapに入れるけど、それをGCで消すことができる</p>

<p>Chromeだけで、flagが必要</p>

<h3>Unlocking New Capabilities for the Web</h3>

<p>Project Fugu</p>

<p>ネイティブアプリにあって、Webアプリにはない差分をうめていきたい。
Webでできることを広げていきたい。</p>

<p>Permissionモデルで機能を利用できるようにする。</p>

<ul>
<li>Web Bluetooth</li>
<li>Sharing Contents and Receiving Shares

<ul>
<li>Web Share</li>
<li>Web Share Target</li>
<li>Web Share Target(v2)</li>
</ul></li>
<li>Media Session

<ul>
<li>Keyboard Media Buttons</li>
</ul></li>
<li>Detection Barcodes and Faces

<ul>
<li>Shape Detection API</li>
<li>Perception Toolkit</li>
</ul></li>
<li>Badging</li>
<li>Keeping an App Alive

<ul>
<li>Wake Lock</li>
</ul></li>
<li>File System</li>
<li>Accessing Serial Devices

<ul>
<li>Serial API</li>
</ul></li>
<li>WebHID</li>
<li>Accessing Users Contacts

<ul>
<li>Contacts Picker</li>
</ul></li>
<li>Font Access API</li>
<li>Clipboard</li>
<li>SMS-based Phone Number Verification</li>
<li>Notification Triggers API</li>
</ul>

<p>bit.ly/new-fugu-request</p>

<p>codelabs/web-capabilities
developers.google.com/web/updates/capabilities</p>

<h3>Build Fast and Smooth Web Apps from Feature Phone to Desktop</h3>

<p>PROXX開発秘話！（発表だから秘話じゃないけどw</p>

<p>2019年のマインスイーパーをどのようにして作るか？という興味深いセッション。
実際にソースコード見れるし、feature phone（実際は低スペックのAndroidやKaiOSあたりが該当する）にも対応している。</p>

<p>以前にこさまりさんが、ガラケーの情報を集めていたのは、このあたりに関係しているのかなーと思って見ていた。</p>

<p>proxx.app でためそう！</p>

<h3>How to Build an E-Commerce Site with AMP</h3>

<p>どうやってECサイトをAMPで作るか、という事例をメインにしたセッション。
そのあたりに興味あればビデオを見ると役だちそうです。</p>

<h3>AMP Stories: Visual Stories for the Web</h3>

<p>snapchatで始まったストーリーは、InstagramやFacebook, whatsappなどで広まった。
アプリのストーリーは自然な感じで、スマートフォンユーザーのほとんどが使っている。
フルスクリーンなので、スクロールしたり回転したりせず、操作も簡単です。</p>

<p>ただし発見されるのは難しい。そこでAMPはオープンなWebプラットフォームで見つけることが可能で、リンクでき、共有できる仕組みを提供する。
自分でコントロールでき、Webサイトにリンクでき、検索にヒットする、Webページに埋め込むこともできる、そして一番重要なのは速い。
タップするか、スワイプする。</p>

<h4>Format Update</h4>

<h5>Localization</h5>

<p>最初は英語のみをサポートしていた。
今は21の言語を利用できる。</p>
<div class="highlight"><pre class="highlight html"><code><span class="nt">&lt;html</span> <span class="err">⚡️</span> <span class="na">lang=</span><span class="s">"ja"</span><span class="nt">&gt;</span>
</code></pre></div>
<h5>Desktop</h5>

<p>デフォルトはモバイルデザイン。
ワシントンポストと協力して、有用性を確認した。</p>
<div class="highlight"><pre class="highlight html"><code><span class="nt">&lt;amp-story</span> <span class="na">supports-landscape</span><span class="nt">&gt;</span>
</code></pre></div>
<p>ランドスケープに最適な背景を用意し、そうでない場合は中心が表示される（object-position で調整可能)。</p>

<h5>Sidebar</h5>

<p>ハンバーガーメニューにサイドバーを追加できる</p>
<div class="highlight"><pre class="highlight html"><code><span class="nt">&lt;amp-story&gt;</span>
  <span class="nt">&lt;amp-sidebar&gt;</span>
    <span class="c">&lt;!-- サイドバーの内容 --&gt;</span>
  <span class="nt">&lt;/amp-sidebar&gt;</span>  
<span class="nt">&lt;/amp-story&gt;</span>
</code></pre></div>
<h5>Attachments</h5>

<p>スワイプアップすると、添付ファイルにアクセスできる。</p>
<div class="highlight"><pre class="highlight html"><code><span class="nt">&lt;amp-story&gt;</span>
  <span class="nt">&lt;amp-story-page&gt;</span>
    <span class="nt">&lt;amp-story-page-attachment&gt;</span>
      <span class="nt">&lt;amp-video</span> <span class="na">src=</span><span class="s">"hoge.mp4"</span><span class="nt">&gt;&lt;/amp-video&gt;</span>
    <span class="nt">&lt;/amp-story-page-attachment&gt;</span>
  <span class="nt">&lt;/amp-story-page&gt;</span>
<span class="nt">&lt;/amp-story&gt;</span>
</code></pre></div>
<h5>Embeds</h5>
<div class="highlight"><pre class="highlight html"><code><span class="nt">&lt;amp-story&gt;</span>
  <span class="nt">&lt;amp-story-page&gt;</span>
    <span class="nt">&lt;amp-story-grid-layer&gt;</span>
      <span class="nt">&lt;amp-twitter</span>
        <span class="na">layout=</span><span class="s">"responsive"</span>
        <span class="na">width=</span><span class="s">"400"</span>
        <span class="na">height=</span><span class="s">"433"</span>
        <span class="na">data-tweetid=</span><span class="s">"..."</span><span class="nt">&gt;</span>
      <span class="nt">&lt;/amp-twitter&gt;</span>
    <span class="nt">&lt;/amp-story-grid-layer&gt;</span>
  <span class="nt">&lt;/amp-story-page&gt;</span>
<span class="nt">&lt;/amp-story&gt;</span>
</code></pre></div>
<p>Twetter以外にもいくつかある。</p>

<h4>Best Practice</h4>

<ul>
<li>Make use of legible and concise text</li>
<li>Use full bleed images and videos</li>
<li>Bring static imagery to life with animations</li>
</ul>

<h4>Monetaization</h4>

<ul>
<li>Story Ads

<ul>
<li>Story Ads Templates</li>
</ul></li>
<li>Affliate Links</li>
<li>Sponsorerd Stories

<ul>
<li>広告にあるQRコードをスキャンすると起動するような利用シーン</li>
<li>埋め込み可能</li>
</ul></li>
</ul>

<h4>Tools</h4>

<p>最初にやったのの詳細紹介</p>

<h3>Rendering on the Web: Performance Implications of Application Architecture</h3>

<p>レンダリングがどのように行われるか、SSRとかクライアントレンダリングとか。
パフォーマンス話なので、パフォーマンス改善に取り組みたい、方法を知りたいというときに役立つ話なので、興味あるひとはタイトルでYoutubeをチェック！</p>

<h3>Going Big: PWAs Come to Desktop and Chrome OS</h3>

<p>DesktopとChromeOSでPWAが使えるようになるよ</p>

<p>PWAアプリの作りかた、とくにマニフェストの書き方を丁寧に説明している。
つづいてサービスワーカー。
Workboxを使って作る方法</p>

<p>インストール前のイベントをフックできるよ。</p>

<p>ファイルシステムへのアクセスは最後に残るピース。</p>

<h3>Modern Web Testing and Automation with Puppeteer</h3>

<p>DevToolとPuppeteerについて
ブラウザ自動化ソリューションです。</p>

<p>Node.jsからChromeを操作（操り人形==puppeteer）するためのAPIを提供している。</p>

<p>npmでブラウザがインストールされるので、環境設定や構築の必要がない。</p>

<p>これまでChromeだけだったけど、
Puppeteer Firefox!!</p>

<p>現在90%のAPIをサポート</p>

<h4>New Web Testing</h4>

<h5>Webテストは遅いという話。</h5>

<ul>
<li>テストごとに新しいブラウザを起動する。隔離するので正しい判断</li>
</ul>

<p>puppeteerには素晴らしいAPIが。
Browser Context.
Chromeのシークレットモード。
分離できるので、実質新しいブラウザを起動するのと一緒
100倍高速！</p>

<h5>テストがFlaky（フレーク状, 壊れやすい）という話。</h5>

<p>非同期問題。</p>

<p>pupperteerには waitForX APIが。</p>

<h5>Mobile</h5>

<p>DevToolでユーザーエージェントを変えられる。
puppeteerからデバイスをエミュレートできる。
100以上のデバイスをエミュレートできる。</p>

<h5>Offlineサポート</h5>

<p>puppeteerからオフラインモードにできる。</p>

<h5>サービスワーカーの検証</h5>

<p>DevToolを開くより簡単に書ける
サービスワーカーのテストを容易にする</p>

<h5>GeoLocation</h5>

<p>通常にブラウザにアクセスすると、許可を与えてから、developer consoleとかで操作する。</p>

<p>puppeteerでも同じように制御できる。</p>

<h5>Network Monitoring</h5>

<p>DevToolネットワークモニター
puppeteerではリクエストとレスポンスを取得でき、そこからいろいろな情報へリーチできるようになっている。</p>

<p>そして、リクエストをインターセプトできる。
つまり特定のAPIリクエストのレスポンスを偽造して、Webサイトにエラー表示をさせたりできる。</p>

<h5>Keyboard &amp; Mouse</h5>

<p>Dipatch Event APIというのがあったがな&hellip;</p>

<p>Shadow DOMやiframeも通過するよ</p>

<h5>Performance Test</h5>

<p>Page Metrics APIがオススメ
DevToolsのパフォーマンスモニタの値が取得できる。</p>

<h5>Chrome Tracing</h5>

<p>Record と Stop で記録するけど、puppeteerにもAPIがある。</p>

<h5>Code Coverage</h5>

<p>CSSとJSのコードカバレッジを取れる。</p>

<h5>Accessibility</h5>

<p>自動化は難しかったが、
PageAccessibilitySnapShot APIで簡単にできる</p>

<p>Accessibility Visualizer というツールを作ったよ
githubで公開中</p>

<h4>コミュニティ</h4>

<p>Slackチャンネルあるよ</p>

<h3>AMP for Email: Coming Soon to an Inbox Near You</h3>

<p>メールの中にAMPを入れられる。</p>

<ul>
<li>GoogleDocs

<ul>
<li>文章にコメントを入れられる</li>
<li>新しいコメントが入ると、メールが届くのでたどる必要がない</li>
</ul></li>
<li>Pinterest

<ul>
<li>アイデアをブラウジングできる</li>
</ul></li>
<li>Ecwid

<ul>
<li>カタログショッピング</li>
</ul></li>
<li>indeed

<ul>
<li>求人情報を送信</li>
<li>クリック率が2倍になった</li>
</ul></li>
<li>OYO

<ul>
<li>インドの旅行サイト</li>
<li>オススメメールを送る</li>
<li>クリック率(+57%)とコンバージョン率(+60%)が大幅に向上</li>
</ul></li>
</ul>

<h4>デザインガイドライン</h4>

<p>いろいろある
テストは必要</p>

<ul>
<li>配信サービス

<ul>
<li>SPARK POST</li>
<li>SendGrid</li>
<li>Amazon Pinpoint</li>
</ul></li>
<li>テスト

<ul>
<li>litmus</li>
</ul></li>
<li><p>メーラー</p>

<ul>
<li>GMail</li>
<li>@Mail</li>
<li>Yahoo Mail (comming soon)</li>
<li>Outlook (comming soon)</li>
</ul></li>
<li><p>ユースケース</p></li>
<li><p>配信/テストツール</p></li>
<li><p>一般的なメールクライアント</p></li>
</ul>

<h4>はじめかた</h4>

<p>g.co/dev/ampemail で学ぼう</p>

<p>gmail プレイグラウンドを使う</p>

<p>amp.gmail.dev/playground</p>

<p>通常は表示できないので、Gmailの設定から、
- Dynamic Emailが有効になっているか？
- そこに Developer Setting というリンクがあるのでクリックすると、ホワイトリストにメールアドレスを入れることができる（開発用に）
- amp@gmail.dev というプレイグラウンドのメールアドレスを設定</p>

<p>そうすると表示されているはず！</p>

<p>あとはHTMLを追加していくだけ。
プレイグラウンドでいろいろテストできる。</p>

<p>go.amp.dev/io-email
でスライドの内容を試せます</p>

<h4>SPARK POST</h4>

<p>プレイグラウンドではない、商用サービスの事例</p>

<p>プレイグラウンドと同じようにプレビューしながら確認できる。
AMPに対応していないときの表示など記述できる。
メールの送信分析できる。</p>

<h3>Taking Chrome Full Screen with Trusted Web Activities</h3>

<p>TWA
UIなしのChrome
AndroidでPWAをプレイストアで配信するための方法。</p>

<p>WebView CCT より多くのことができる</p>

<p>事例</p>

<p>TWAはChromeであり、Chromeが更新されるたびに最新の機能を利用することができる。
将来的にはChrome以外でも</p>

<h3>Google Search and JavaScript Sites</h3>

<p>SEO</p>

<p>Googlebot is Chrome 41?
No!</p>

<p>Googlebot is Chrome</p>

<ul>
<li>ES6</li>
<li>New Web API</li>
<li>Less Polyfill</li>
<li>Ongoing Update / evergreen</li>
</ul>

<p>React
Vue
Angular</p>

<p>サーチコンソールからテストしてね</p>

<p>youtube.com/GoogleWebmasters を見ると良いよ</p>

<h3>Securing Web Apps with Modern Platform Features</h3>

<p>セキュリティセッション
XSSとかCSRFとか</p>

<p>どうやってセキュアなコードにするか（特にHTML中のJSとか）
リファクタリング方法を解説</p>

<p>セキュリティに興味ある人は、タイトルでYoutubeをチェック！</p>

<h3>Next-Generation 3D Graphics on the Web</h3>

<p>WebGLが8年前に入った</p>

<p>多くのフレームワークやライブラリがある。</p>

<p>今何で使われている？</p>

<ul>
<li>ミュージックビデオ</li>
<li>ゲーム</li>
<li>アニメーション</li>
<li>ショールーム（製品カタログ）</li>
<li>もっと</li>
</ul>

<p>WebGL + HTML</p>

<p>事例をたくさん紹介</p>

<p>ReactThreeFiber
再利用可能になる</p>

<p>WebGL + Web Components
これでよりWeb層に強力な影響をもたらす
カスタムエレメントを使って、複雑なコードを隠蔽する</p>

<p>model-viewer エレメント
アクセシビリティにも考慮している</p>

<h4>Web GPU</h4>

<p>GPUを操作するためのRawレベルAPI</p>

<p>例えば三角形を描くコード、Web GPUもWebGLも複雑さは変わらない
でもフレームワークを使えば、それほどの問題にはならない</p>

<p>babylon.js はWebGPUに取り組み始めている</p>

<p>WebGLではGPU性能の前にJavaScriptの繰り返し性能に直面する</p>

<p>WebGPUではカクカクしないし、JavaScriptのCPU時間も使わない
GPUが利用されるから</p>

<p>babylon.js の4.1では使えるようになる</p>

<ul>
<li>post processing filter</li>
</ul>

<p>WebGLとWebGPUのコードの違いを解説</p>

<p>クロスプラットフォーム</p>

<p>webgpu.io
を見てね！</p>

<h3>さいごに</h3>

<p>ということで、ながながとメモを貼っただけになりましたが、私のLTでは</p>

<ul>
<li>Web Packaging</li>
<li>AMP</li>
<li>Puppeteer</li>
</ul>

<p>について話すので、よろしくお願いします。</p>



    <div class="row">
      <div class="small-12 medium-5 large-5 small-centered columns blog-social">
        <div class="shareon" data-url="http://blog.open.tokyo.jp/2019/05/15/google-i-o-2019.html">
          <a class="twitter" data-title="Google I/O 2019ふりかえり"></a>
          <a class="facebook" data-title="Google I/O 2019ふりかえり"></a>
        </div>
      </div>
      <div class="clearfix"></div>
    </div>

  </div>
</article>
<article>
  <h1 class="title"><a href="/2019/05/13/generate-import-maps-json.html">import-mapsのjsonファイルを生成するツールを作ってみた</a></h1>
  <p class="postdate"><a href="/2019/05/13.html" title="Permanent link">Monday, May 13, 2019 06:18:00 PM</a></p>
  <p class="tags">
      <a href="/tags/webcomponents.html" rel="tag">WebComponents</a>
      <a href="/tags/polymer.html" rel="tag">Polymer</a>
      <a href="/tags/import-maps.html" rel="tag">import maps</a>
  </p>
  <div class="content">
    <!-- use article.summary(250) if you have Nokogiri available to show just
       the first 250 characters -->
    <p>前回 <a href="/2019/05/05/try-import-maps.html">TRY import maps</a> ということで、<a href="https://github.com/WICG/import-maps">import maps</a> を試してみる記事を書きました。
最後に</p>

<blockquote>
<p>JSON定義を自動生成するスクリプトが出ないか期待したいですね（がんばって自作するのもあり）。</p>
</blockquote>

<p>という記述をしたのですが、その後調べたら <a href="https://github.com/WICG/import-maps/issues/60">How to convert package-lock.json to import maps? #60</a> というissue が上がっているのを見て、いくつか <code>yarn</code> のサンプルが出ていたりして、これ自作できるのでは？と思い、作ってみました。</p>

<p><a href="https://www.npmjs.com/package/gen-import-maps-json">gen-import-maps-json</a> です。</p>

<p>READMEのとおりで簡単に動きます。</p>

<h3>しくみ</h3>

<p>とても小さいJavaScriptのコードです。以下のような手順で処理しています。</p>

<ol>
<li>コマンドが実行されたディレクトリにある <code>package-lock.json</code> ファイルを読み込む</li>
<li>devDependencies のモジュールは除外する</li>
<li>Web Components の polyfill は除外する</li>
<li>対象モジュールの <code>package.json</code> を読み取って、 <code>main</code> ファイルのパスを入手する</li>
<li>メインファイルのモジュール名と、相対パスをキーにした、map情報を書き出す</li>
</ol>

<h3>ためしてみる</h3>

<p>前回と同じく<a href="https://github.com/Polymer-Japan/litelement-first-element">Polymer-Japan/litelement-first-element</a> のコードを使って実行してみます。</p>

<p>生成できたJSONは以下のとおりです。</p>
<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"imports"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"@polymer/font-roboto/"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/node_modules/@polymer/font-roboto/"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"@polymer/font-roboto"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/node_modules/@polymer/font-roboto/roboto.js"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"@polymer/iron-demo-helpers/"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/node_modules/@polymer/iron-demo-helpers/"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"@polymer/iron-flex-layout/"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/node_modules/@polymer/iron-flex-layout/"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"@polymer/iron-icon/"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/node_modules/@polymer/iron-icon/"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"@polymer/iron-icon"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/node_modules/@polymer/iron-icon/iron-icon.js"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"@polymer/iron-icons/"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/node_modules/@polymer/iron-icons/"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"@polymer/iron-icons"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/node_modules/@polymer/iron-icons/iron-icons.js"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"@polymer/iron-iconset-svg/"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/node_modules/@polymer/iron-iconset-svg/"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"@polymer/iron-iconset-svg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/node_modules/@polymer/iron-iconset-svg/iron-iconset-svg.js"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"@polymer/iron-location/"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/node_modules/@polymer/iron-location/"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"@polymer/iron-meta/"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/node_modules/@polymer/iron-meta/"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"@polymer/iron-meta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/node_modules/@polymer/iron-meta/iron-meta.js"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"@polymer/marked-element/"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/node_modules/@polymer/marked-element/"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"@polymer/marked-element"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/node_modules/@polymer/marked-element/marked-element.js"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"@polymer/polymer/"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/node_modules/@polymer/polymer/"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"@polymer/polymer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/node_modules/@polymer/polymer/polymer-element.js"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"@polymer/prism-element/"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/node_modules/@polymer/prism-element/"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"@webcomponents/shadycss/"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/node_modules/@webcomponents/shadycss/"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"@webcomponents/shadycss"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/node_modules/@webcomponents/shadycss/shadycss.min.js"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"clipboard/"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/node_modules/clipboard/"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"clipboard"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/node_modules/clipboard/dist/clipboard.js"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"delegate/"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/node_modules/delegate/"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"delegate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/node_modules/delegate/src/delegate.js"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"good-listener/"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/node_modules/good-listener/"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"good-listener"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/node_modules/good-listener/src/listen.js"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lit-element/"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/node_modules/lit-element/"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lit-element"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/node_modules/lit-element/lit-element.js"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lit-html/"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/node_modules/lit-html/"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lit-html"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/node_modules/lit-html/lit-html.js"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marked/"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/node_modules/marked/"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marked"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/node_modules/marked/lib/marked.js"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"prismjs/"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/node_modules/prismjs/"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"prismjs"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/node_modules/prismjs/prism.js"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"select/"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/node_modules/select/"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"select"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/node_modules/select/src/select.js"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tiny-emitter/"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/node_modules/tiny-emitter/"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tiny-emitter"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/node_modules/tiny-emitter/index.js"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>前回のJSONは以下のとおりでした。</p>
<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"imports"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"@polymer/iron-demo-helpers/demo-pages-shared-styles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"/node_modules/@polymer/iron-demo-helpers/demo-pages-shared-styles.js"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"@polymer/iron-demo-helpers/demo-snippet"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"/node_modules/@polymer/iron-demo-helpers/demo-snippet.js"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"@polymer/polymer/polymer-legacy.js"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"/node_modules/@polymer/polymer/polymer-legacy.js"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"@polymer/iron-flex-layout/iron-flex-layout.js"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"/node_modules/@polymer/iron-flex-layout/iron-flex-layout.js"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"@polymer/font-roboto/roboto.js"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"/node_modules/@polymer/font-roboto/roboto.js"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"@polymer/polymer/lib/utils/html-tag.js"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"/node_modules/@polymer/polymer/lib/utils/html-tag.js"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"@webcomponents/shadycss/entrypoints/apply-shim.js"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"/node_modules/@webcomponents/shadycss/entrypoints/apply-shim.js"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"@webcomponents/shadycss/entrypoints/custom-style-interface.js"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"/node_modules/@webcomponents/shadycss/entrypoints/custom-style-interface.js"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"@polymer/marked-element/marked-element.js"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"/node_modules/@polymer/marked-element/marked-element.js"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"@polymer/prism-element/prism-highlighter.js"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"/node_modules/@polymer/prism-element/prism-highlighter.js"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"@polymer/prism-element/prism-theme-default.js"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"/node_modules/@polymer/prism-element/prism-theme-default.js"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"@polymer/polymer/lib/legacy/polymer-fn.js"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"/node_modules/@polymer/polymer/lib/legacy/polymer-fn.js"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"@polymer/polymer/lib/legacy/polymer.dom.js"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"/node_modules/@polymer/polymer/lib/legacy/polymer.dom.js"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"marked/lib/marked.js"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"/node_modules/marked/lib/marked.js"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"prismjs/prism.js"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"/node_modules/prismjs/prism.js"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"@polymer/polymer/lib/elements/dom-module.js"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"/node_modules/@polymer/polymer/lib/elements/dom-module.js"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"lit-element"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"/node_modules/lit-element/lit-element.js"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"lit-html"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"/node_modules/lit-html/lit-html.js"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"lit-html/lib/shady-render"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"/node_modules/lit-html/lib/shady-render.js"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"lit-html/lit-html"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"/node_modules/lit-html/lit-html.js"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"@polymer/iron-icons/iron-icons.js"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"/node_modules/@polymer/iron-icons/iron-icons.js"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"@polymer/iron-icon/iron-icon.js"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"/node_modules/@polymer/iron-icon/iron-icon.js"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"@polymer/iron-iconset-svg/iron-iconset-svg.js"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"/node_modules/@polymer/iron-iconset-svg/iron-iconset-svg.js"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"@polymer/iron-meta/iron-meta.js"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"/node_modules/@polymer/iron-meta/iron-meta.js"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>だいぶ違いますね！</p>

<p>このツールを作ることで、<a href="https://github.com/WICG/import-maps">import maps</a> の仕様理解が深まりました。</p>

<ul>
<li>キー名に対応するパスが1つの場合、値は配列でなく文字列で良い</li>
<li>パッケージが複数のモジュールを持っている場合、 キー名を <code>/</code> で終了すると他のファイルを参照できる。くわしくは <a href="https://github.com/WICG/import-maps#packages-via-trailing-slashes">&ldquo;Packages&rdquo; via trailing slashes</a> を参照ください</li>
</ul>

<p>これで、定義ファイルを自動生成できます。</p>

<h3>実行してみる</h3>

<p>前回と同じくPHPのビルトインサーバーを利用します。
ツールで生成できた JSON をHTMLに追加しておきましょう。</p>
<div class="highlight"><pre class="highlight plaintext"><code>$ php -S localhost:8080 -t .
</code></pre></div>
<p>前回と同じように、無事デモが動作しました。</p>

<h3>JSONを外部ファイルにしてみる</h3>

<p>いろいろとissueを見たりしているうちに、JSON記述は外部ファイルが使えるかも？と思ったので、import-mapsの定義をファイルに変更してみます。
ツールで出力されたJSONを <code>import-maps.json</code> というファイル名にして、以下のようにHTMLの記述を変更します。</p>
<div class="highlight"><pre class="highlight html"><code>    <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"importmap"</span> <span class="na">src=</span><span class="s">"import-maps.json"</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre></div>
<p>ページをリロードしてみると Dev Tool のコンソールに <strong><em>External import maps are not yet supported.</em></strong> と表示されました。
まだサポートされてなかった&hellip;</p>

<p>ということで、サポートを待ちましょう。</p>

<h3>さいごに</h3>

<p>仕様は文面だけで読んでいると、わかっているつもりでも、実際のユースケースではわかっていないことも多いと実感しました。
ツールやデモプログラムを作って、実際に手に馴染ませることが重要ですね。</p>

<p>それと、polyfill の除外がWeb Components固定になっているので、今後の展望としては、ignoreするモジュールを定義ファイルで指定できるようにしたいなーと思っています。</p>

<p>今後も <a href="https://github.com/WICG/import-maps">import maps</a> の最新状況を追いかけていきたいと思っています。</p>



    <div class="row">
      <div class="small-12 medium-5 large-5 small-centered columns blog-social">
        <div class="shareon" data-url="http://blog.open.tokyo.jp/2019/05/13/generate-import-maps-json.html">
          <a class="twitter" data-title="import-mapsのjsonファイルを生成するツールを作ってみた"></a>
          <a class="facebook" data-title="import-mapsのjsonファイルを生成するツールを作ってみた"></a>
        </div>
      </div>
      <div class="clearfix"></div>
    </div>

  </div>
</article>

<nav aria-label="ページング">
  <p class="pagenav">
      <a href="/page/12/">« Prev</a>
        <a href="/page/9/">9</a>
        <a href="/page/10/">10</a>
        <a href="/page/11/">11</a>
        <a href="/page/12/">12</a>
        <b>13</b>
        <a href="/page/14/">14</a>
        <a href="/page/15/">15</a>
        <a href="/page/16/">16</a>
        <a href="/page/17/">17</a>
      <a href="/page/14/">Next »</a>
  </p>
</nav>
<script type="text/javascript" src="/javascripts/image-resize-ie.js"></script>


        </div>
      </div>
    </main>

      <aside id="sidewrap">
        <div id="side">
          <section class="sidebox sidelinx">
            <h2>Recent Articles</h2>
            <div class="pad">
              <ul>
                  <li><a href="/2024/06/23/php-conference-fukuoka-2024.html">PHP カンファレンス福岡2024に参加した</a> <span>2024/06/23</span></li>
                  <li><a href="/2024/06/03/get-started-with-graphql-api-server-with-appsync-js.html">APPSYNC_JS (AppSync JavaScript) で始める GraphQL API サーバー</a> <span>2024/06/03</span></li>
                  <li><a href="/2024/05/30/renovate-on-codecommit.html">CodeCommit で Renovate を使う</a> <span>2024/05/30</span></li>
                  <li><a href="/2024/05/28/using-codecommit-codebuild-like-a-github-and-the-actions.html">CodeCommit と CodeBuild を GitHub と Actions の組み合わせのように使う</a> <span>2024/05/28</span></li>
                  <li><a href="/2024/05/01/story-for-migrate-hobby-web-service-while-a-year-part-5.html">GAE gen1 で動いている PHP5.5 で作った個人開発サービスを gen2 PHP8.2 へ移行した1年記 〜 その 5</a> <span>2024/05/01</span></li>
                  <li><a href="/2024/04/30/story-for-migrate-hobby-web-service-while-a-year-part-4.html">GAE gen1 で動いている PHP5.5 で作った個人開発サービスを gen2 PHP8.2 へ移行した1年記 〜 その 4</a> <span>2024/04/30</span></li>
                  <li><a href="/2024/04/30/story-for-migrate-hobby-web-service-while-a-year-part-3.html">GAE gen1 で動いている PHP5.5 で作った個人開発サービスを gen2 PHP8.2 へ移行した1年記 〜 その 3</a> <span>2024/04/30</span></li>
                  <li><a href="/2024/03/20/story-for-migrate-hobby-web-service-while-a-year-part-2.html">GAE gen1 で動いている PHP5.5 で作った個人開発サービスを gen2 PHP8.2 へ移行した1年記 〜 その 2</a> <span>2024/03/20</span></li>
                  <li><a href="/2024/03/20/story-for-migrate-hobby-web-service-while-a-year-part-1.html">GAE gen1 で動いている PHP5.5 で作った個人開発サービスを gen2 PHP8.2 へ移行した1年記 〜 その 1</a> <span>2024/03/20</span></li>
                  <li><a href="/2024/02/18/php-conference-kansai-2024.html">PHPカンファレンス関西2024に参加して、オフラインカンファレンスの盛り上がりを体験してきた</a> <span>2024/02/18</span></li>
              </ul>
            </div>
          </section>
          <section class="sidebox" id="tagcloud">
            <h2>Tags</h2>
            <div class="pad">
              <ul class="nobullets clearfix">
                    <li class="size5">
                      <a href="/tags/php.html" rel="tag">PHP</a>
                    </li>
                    <li class="size0">
                      <a href="/tags/phpcon.html" rel="tag">PHPcon</a>
                    </li>
                    <li class="size1">
                      <a href="/tags/aws.html" rel="tag">AWS</a>
                    </li>
                    <li class="size1">
                      <a href="/tags/javascript.html" rel="tag">JavaScript</a>
                    </li>
                    <li class="size1">
                      <a href="/tags/gae.html" rel="tag">GAE</a>
                    </li>
                    <li class="size0">
                      <a href="/tags/toiletevolution.html" rel="tag">toiletevolution</a>
                    </li>
                    <li class="size0">
                      <a href="/tags/phpkansai.html" rel="tag">phpkansai</a>
                    </li>
                    <li class="size2">
                      <a href="/tags/typescript.html" rel="tag">TypeScript</a>
                    </li>
                    <li class="size1">
                      <a href="/tags/aws-sdk.html" rel="tag">aws-sdk</a>
                    </li>
                    <li class="size0">
                      <a href="/tags/aws-sdk-v3.html" rel="tag">aws-sdk@v3</a>
                    </li>
                    <li class="size1">
                      <a href="/tags/jest.html" rel="tag">Jest</a>
                    </li>
                    <li class="size0">
                      <a href="/tags/import-maps.html" rel="tag">import maps</a>
                    </li>
                    <li class="size0">
                      <a href="/tags/dependencies-management.html" rel="tag">Dependencies Management</a>
                    </li>
                    <li class="size0">
                      <a href="/tags/dependabot.html" rel="tag">dependabot</a>
                    </li>
                    <li class="size0">
                      <a href="/tags/gcp.html" rel="tag">GCP</a>
                    </li>
                    <li class="size0">
                      <a href="/tags/asucon.html" rel="tag">asucon</a>
                    </li>
                    <li class="size3">
                      <a href="/tags/polymer.html" rel="tag">Polymer</a>
                    </li>
                    <li class="size2">
                      <a href="/tags/polymer-co-edo.html" rel="tag">Polymer.co-edo</a>
                    </li>
                    <li class="size1">
                      <a href="/tags/chirimen.html" rel="tag">CHIRIMEN</a>
                    </li>
                    <li class="size1">
                      <a href="/tags/iot.html" rel="tag">IoT</a>
                    </li>
                    <li class="size0">
                      <a href="/tags/wot.html" rel="tag">WoT</a>
                    </li>
                    <li class="size4">
                      <a href="/tags/cakephp.html" rel="tag">CakePHP</a>
                    </li>
                    <li class="size0">
                      <a href="/tags/cakefest.html" rel="tag">CakeFest</a>
                    </li>
                    <li class="size2">
                      <a href="/tags/webcomponents.html" rel="tag">WebComponents</a>
                    </li>
                    <li class="size0">
                      <a href="/tags/toiletevolution.html" rel="tag">ToiletEvolution</a>
                    </li>
                    <li class="size0">
                      <a href="/tags/web-components.html" rel="tag">Web Components</a>
                    </li>
                    <li class="size0">
                      <a href="/tags/cakephp3.html" rel="tag">CakePHP3</a>
                    </li>
                    <li class="size1">
                      <a href="/tags/bdd.html" rel="tag">BDD</a>
                    </li>
                    <li class="size1">
                      <a href="/tags/behat.html" rel="tag">Behat</a>
                    </li>
                    <li class="size0">
                      <a href="/tags/fixture.html" rel="tag">fixture</a>
                    </li>
                    <li class="size0">
                      <a href="/tags/test.html" rel="tag">Test</a>
                    </li>
                    <li class="size0">
                      <a href="/tags/phpmatsuri.html" rel="tag">phpmatsuri</a>
                    </li>
                    <li class="size1">
                      <a href="/tags/coverflow.html" rel="tag">CoverFlow</a>
                    </li>
                    <li class="size1">
                      <a href="/tags/flex.html" rel="tag">Flex</a>
                    </li>
              </ul>
            </div>
          </section>
          <section class="sidebox sidelinx">
            <h2>By Year</h2>
            <div class="pad">
              <ul>
                  <li><a href="/2024.html">2024</a> (10)</li>
                  <li><a href="/2023.html">2023</a> (12)</li>
                  <li><a href="/2022.html">2022</a> (14)</li>
                  <li><a href="/2021.html">2021</a> (1)</li>
                  <li><a href="/2020.html">2020</a> (6)</li>
                  <li><a href="/2019.html">2019</a> (41)</li>
                  <li><a href="/2018.html">2018</a> (31)</li>
                  <li><a href="/2017.html">2017</a> (7)</li>
                  <li><a href="/2016.html">2016</a> (5)</li>
                  <li><a href="/2015.html">2015</a> (13)</li>
                  <li><a href="/2014.html">2014</a> (14)</li>
                  <li><a href="/2013.html">2013</a> (6)</li>
                  <li><a href="/2012.html">2012</a> (7)</li>
                  <li><a href="/2011.html">2011</a> (11)</li>
                  <li><a href="/2010.html">2010</a> (3)</li>
                  <li><a href="/2009.html">2009</a> (10)</li>
                  <li><a href="/2008.html">2008</a> (16)</li>
              </ul>
            </div>
          </section>
          <section class="sidebox sidelinx">
            <h2>Twitter</h2>
            <a class="twitter-timeline" data-lang="ja" href="https://twitter.com/sizuhiko?ref_src=twsrc%5Etfw">Tweets by sizuhiko</a> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>            
          </section>
        </div>
      </aside>

      <footer id="footer">
        <div id="footer2">
          <div class="clear"></div>
        </div>
    </footer>
  </body>
</html>
