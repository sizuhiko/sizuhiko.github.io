<!doctype html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8" />
    <meta http-equiv='X-UA-Compatible' content='IE=edge;chrome=1' />
    <title>sizuhiko - Technote</title>
    <link rel="shortcut icon" href="/imgages/favicon.ico" type="image/x-icon">
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="/stylesheets/main.css" type="text/css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/shareon@2/dist/shareon.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/shareon@2/dist/shareon.iife.js" defer init></script>    
    <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/feed.xml" />

    <!--[if lte IE 8]>
      <link rel="stylesheet" href="/stylesheets/browsers/ie.css" type="text/css">
      <script src="/javascripts/browsers/ie8.js"></script>
      <script defer src="/javascripts/browsers/ie-css3.js"></script>
    <![endif]-->
    <!--[if IE 6]>
      <link rel="stylesheet" href="/styleseets/browsers/ie6.css" type="text/css">
    <![endif]-->
    <!--[if IE 7]>
      <link rel="stylesheet" href="/styleseets/browsers/ie7.css" type="text/css">
    <![endif]-->
    <!--[if IE 8]>
      <link rel="stylesheet" href="/stylesheets/browsers/ie8.css" type="text/css">
    <![endif]-->
    <style type="text/css">
      @media all and (max-width:680px) {
        #blogtools a, #blogtools a:link, #blogtools a:visited { position:relative; top:0; margin:0 0 5px 10px; float:left; background:#f1f1f1; color:#111; border:1px solid #888; }
        #postcontent, #posttitle { width:100%; }
        #qppreview { display:none; }
        #qpsubmit { width:auto !important; float:none; line-height:1.4; height:auto; margin:7px 0; }
        #postform b { display:block; }
        #sharing { float:none; padding-top:3px; }
        }
    </style>
    <style type="text/css">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .cm {
  color: #999988;
  font-style: italic;
}
.highlight .cp {
  color: #999999;
  font-weight: bold;
}
.highlight .c1 {
  color: #999988;
  font-style: italic;
}
.highlight .cs {
  color: #999999;
  font-weight: bold;
  font-style: italic;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #999988;
  font-style: italic;
}
.highlight .err {
  color: #a61717;
  background-color: #e3d2d2;
}
.highlight .gd {
  color: #000000;
  background-color: #ffdddd;
}
.highlight .ge {
  color: #000000;
  font-style: italic;
}
.highlight .gr {
  color: #aa0000;
}
.highlight .gh {
  color: #999999;
}
.highlight .gi {
  color: #000000;
  background-color: #ddffdd;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
  font-weight: bold;
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .gt {
  color: #aa0000;
}
.highlight .kc {
  color: #000000;
  font-weight: bold;
}
.highlight .kd {
  color: #000000;
  font-weight: bold;
}
.highlight .kn {
  color: #000000;
  font-weight: bold;
}
.highlight .kp {
  color: #000000;
  font-weight: bold;
}
.highlight .kr {
  color: #000000;
  font-weight: bold;
}
.highlight .kt {
  color: #445588;
  font-weight: bold;
}
.highlight .k, .highlight .kv {
  color: #000000;
  font-weight: bold;
}
.highlight .mf {
  color: #009999;
}
.highlight .mh {
  color: #009999;
}
.highlight .il {
  color: #009999;
}
.highlight .mi {
  color: #009999;
}
.highlight .mo {
  color: #009999;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #009999;
}
.highlight .sa {
  color: #000000;
  font-weight: bold;
}
.highlight .sb {
  color: #d14;
}
.highlight .sc {
  color: #d14;
}
.highlight .sd {
  color: #d14;
}
.highlight .s2 {
  color: #d14;
}
.highlight .se {
  color: #d14;
}
.highlight .sh {
  color: #d14;
}
.highlight .si {
  color: #d14;
}
.highlight .sx {
  color: #d14;
}
.highlight .sr {
  color: #009926;
}
.highlight .s1 {
  color: #d14;
}
.highlight .ss {
  color: #990073;
}
.highlight .s, .highlight .dl {
  color: #d14;
}
.highlight .na {
  color: #008080;
}
.highlight .bp {
  color: #999999;
}
.highlight .nb {
  color: #0086B3;
}
.highlight .nc {
  color: #445588;
  font-weight: bold;
}
.highlight .no {
  color: #008080;
}
.highlight .nd {
  color: #3c5d5d;
  font-weight: bold;
}
.highlight .ni {
  color: #800080;
}
.highlight .ne {
  color: #990000;
  font-weight: bold;
}
.highlight .nf, .highlight .fm {
  color: #990000;
  font-weight: bold;
}
.highlight .nl {
  color: #990000;
  font-weight: bold;
}
.highlight .nn {
  color: #555555;
}
.highlight .nt {
  color: #000080;
}
.highlight .vc {
  color: #008080;
}
.highlight .vg {
  color: #008080;
}
.highlight .vi {
  color: #008080;
}
.highlight .nv, .highlight .vm {
  color: #008080;
}
.highlight .ow {
  color: #000000;
  font-weight: bold;
}
.highlight .o {
  color: #000000;
  font-weight: bold;
}
.highlight .w {
  color: #bbbbbb;
}
.highlight {
  background-color: #f8f8f8;
}
    </style>
  </head>
  <body id="myopera" data-twttr-rendered="true">
    <!--[if IE 6]><div class="ie6"><![endif]-->
    <!--[if IE 7]><div class="ie7"><![endif]-->
    <!--[if IE 8]><div class="ie8"><![endif]-->
    <!--[if IE 9]><div class="ie9"><![endif]-->
    <div id="wrap0"><div id="wrap1"><div id="wrap2"><div id="wrap3"><div id="wrap4">

    <header id="top" class="top-blog">
      <div id="top2">
        <h1><a href="/" title="home"><span>Technote</span></a></h1>
        <p id="subtitle"><span>by sizuhiko</span></p>
      </div>
    </header>

    <main id="content" class="blogfront">
      <div id="mainwrap">
        <div id="main">

          <article>
  <h1 class="title"><a href="/2018/11/18/jsfes-2018-autumn.html">秋のJavaScript祭りに参加して、Web ComponentsについてLTをしました</a></h1>
  <p class="postdate"><a href="/2018/11/18.html" title="Permanent link">Sunday, November 18, 2018 05:46:00 PM</a></p>
  <p class="tags">
      <a href="/tags/polymer.html" rel="tag">Polymer</a>
      <a href="/tags/web-components.html" rel="tag">Web Components</a>
  </p>
  <div class="content">
    <!-- use article.summary(250) if you have Nokogiri available to show just
       the first 250 characters -->
    <p><a href="https://javascript-fes.doorkeeper.jp/events/81307">11/17に開催されたJavaScript祭りに参加しました</a></p>

<p><img src="https://dzpp79ucibp5a.cloudfront.net/events_banners/81307_normal_1539135553_JavaScript2018.png" alt="" /></p>

<p>いつもと同様にLT枠へ申し込み、この半年でおきたPolymerのアップデートを発表しました。
とは言いつつ、Polymerのアップデートは少なめで、Chrome Dev Summit で発表された内容を中心に話しました。</p>

<p>今回は、春のイベントで強烈な印象を残したCanvasだけで実装したゲームのLTについて、20分枠で聴けるというのが楽しみでした。
実際20分枠よりももっと聞きたいという感じでしたし、相変わらずすごい。実装も進んでいて、もう1つゲームが公開されていました。</p>

<p>さて、私のスライドは以下のとおりです。</p>

<script async class="speakerdeck-embed" data-id="1626d453738e4ad2a7b4150a744c967b" data-ratio="1.33333333333333" src="//speakerdeck.com/assets/embed.js"></script>

<p>いつもちょうどJavaScript祭りの直前にアナウンスがあるので、発表ネタには困りませんが、最近多忙でなかなか動画を見る時間を作れずギリギリまでスライド内容が決まらなかった&hellip;.</p>

<p>富士通クラウドテクノロジーさんはUSB-C x HDMIとの相性が悪いのが、以前のPolymerイベントでわかっていたので、事前に運営へお知らせしていたのですが、やっぱりバタバタになってしまっていたのが残念でした。
なんとか改善されると良いなーと思っています。</p>



    <div class="row">
      <div class="small-12 medium-5 large-5 small-centered columns blog-social">
        <div class="shareon" data-url="http://blog.open.tokyo.jp/2018/11/18/jsfes-2018-autumn.html">
          <a class="twitter" data-title="秋のJavaScript祭りに参加して、Web ComponentsについてLTをしました"></a>
          <a class="facebook" data-title="秋のJavaScript祭りに参加して、Web ComponentsについてLTをしました"></a>
        </div>
      </div>
      <div class="clearfix"></div>
    </div>

  </div>
</article>
<article>
  <h1 class="title"><a href="/2018/11/09/polymer-co-edo-meetup-18.html">Polymer.coedo ＃18を開催しました</a></h1>
  <p class="postdate"><a href="/2018/11/09.html" title="Permanent link">Friday, November 09, 2018 05:35:00 PM</a></p>
  <p class="tags">
      <a href="/tags/polymer.html" rel="tag">Polymer</a>
      <a href="/tags/polymer-co-edo.html" rel="tag">Polymer.co-edo</a>
  </p>
  <div class="content">
    <!-- use article.summary(250) if you have Nokogiri available to show just
       the first 250 characters -->
    <p>今年9回目となる <a href="https://polymercoedo.doorkeeper.jp/events/81714">Polymer.co-edo ミートアップ</a> を開催しました。</p>

<p>今回からしばらくは「Edoエレメントの制作とWeb Componentsもくもく」ということで、進めることにしました。</p>

<p>とりあえず以下のオーガナイゼーションを作成して準備を整えました。</p>

<ul>
<li><a href="https://github.com/Edo-Elements">Edo-Elements - Github</a></li>
<li>edo-elements の npm オーガナイゼーション（これはまだ何もpublishしていないので、リンクにできない&hellip;.）</li>
</ul>

<p>イベントに参加いただけたらオーガナイゼーションに招待しようと思うので、よろしくお願いします。</p>

<h3>次回は</h3>

<p>予定どおり開催できる見込みです。
<a href="https://polymercoedo.doorkeeper.jp/">Doorkeeperのコミュニティページ</a>に今年の予定も書いてあるので参考にしてください。</p>



    <div class="row">
      <div class="small-12 medium-5 large-5 small-centered columns blog-social">
        <div class="shareon" data-url="http://blog.open.tokyo.jp/2018/11/09/polymer-co-edo-meetup-18.html">
          <a class="twitter" data-title="Polymer.coedo ＃18を開催しました"></a>
          <a class="facebook" data-title="Polymer.coedo ＃18を開催しました"></a>
        </div>
      </div>
      <div class="clearfix"></div>
    </div>

  </div>
</article>
<article>
  <h1 class="title"><a href="/2018/10/23/cakephp2-plugin-travis-issue.html">CakePHP2プラグインをTravisCIでビルドしているときに気をつけること</a></h1>
  <p class="postdate"><a href="/2018/10/23.html" title="Permanent link">Tuesday, October 23, 2018 10:58:00 AM</a></p>
  <p class="tags">
      <a href="/tags/cakephp.html" rel="tag">CakePHP</a>
      <a href="/tags/cakephp2.html" rel="tag">CakePHP2</a>
      <a href="/tags/travisci.html" rel="tag">TravisCI</a>
      <a href="/tags/ci.html" rel="tag">CI</a>
      <a href="/tags/fabricate.html" rel="tag">Fabricate</a>
  </p>
  <div class="content">
    <!-- use article.summary(250) if you have Nokogiri available to show just
       the first 250 characters -->
    <p>先日 <a href="https://twitter.com/tenkoma">@tenkoma</a> さんが、<a href="https://github.com/sizuhiko/Fabricate">Fabricate</a> に <a href="https://github.com/sizuhiko/Fabricate/pull/30">PR</a> をくれました。
しかももう枯れてる <a href="https://github.com/sizuhiko/Fabricate/tree/cakephp2">CakePHP2版</a> に。ありがたやー、と思っていましたら&hellip;</p>

<p><a href="https://travis-ci.org/sizuhiko/Fabricate/builds/443036544">CIのビルドが失敗</a>しています。</p>

<p>おや？<a href="https://travis-ci.org/sizuhiko/Fabricate/jobs/246923803">直前までは通過</a>していて、<a href="https://github.com/sizuhiko/Fabricate/pull/30">READMEのtypoが修正された</a>だけなんですが&hellip;</p>

<p>（ただ直前は1年も前なのだが&hellip;）</p>

<h3>ためしにRebuildしてみる</h3>

<p>そういう小手先の問題ではないようだ&hellip;.</p>

<h3>TravisCIに書いてあるスクリプトの手順をローカルで実行してみる</h3>

<p>うまく動く&hellip;</p>

<h3>ビルド失敗の問題とは</h3>

<p><a href="https://travis-ci.org/sizuhiko/Fabricate/jobs/444524331">失敗ビルドの一例</a>でわかるとおり、PHPUnitのバージョンが期待値ではありません。</p>

<p>CakaPHP2ではPHPUnit3.7系しか使えません。
<a href="https://github.com/cakephp/cakephp/blob/2.x/lib/Cake/TestSuite/CakeTestSuiteDispatcher.php#L135">CakeTestSuiteDispatcherでPHPUnitのロード</a>を試みていて、もしロードできないと<a href="https://github.com/cakephp/cakephp/blob/2.x/lib/Cake/Console/Command/TestShell.php#L179">TestShellでエラー</a>になります。</p>

<p>CakePHP2のプラグインのテストを簡単に実行できるようにするため<a href="https://github.com/FriendsOfCake/travis">FriendsOfCake/travis</a>を使っています。
このTravis用ツールは、PHPUnit3.7をインストールして、 <code>Vendor</code> の下にリンクしてくれるので、うまくPHPUnitは見つかるはずなのですが。</p>

<p>想定される原因としては、以下のような感じです。</p>

<ul>
<li>PHPUnitが見つからない</li>
<li>新しいPHPUnitが見つかった</li>
</ul>

<h3>CakePHPの日本語Slackで相談してみる</h3>

<p>https://cakesf.slack.com/archives/C1FT02VQA/p1539927224000100</p>

<blockquote>
<p>CakePHP2系のプラグインをTravis CIでテストするのに
https://github.com/FriendsOfCake/travis
を使っているのですが、PHPUnitへの参照がうまくできなくなっていて、解決した人っていたりしますか？
個人的に修正できそうなんて、試してみようかと思ったのですが、すでに対応済みの人がいたらなーと思い、聞いてみたいです</p>
</blockquote>

<p>他のCakePHP2プラグインはビルド通っているのか？</p>

<ul>
<li>https://github.com/lampager/lampager-cakephp2 は5ヶ月ぐらい前に<a href="https://travis-ci.org/lampager/lampager-cakephp2/builds/387421969">通過している</a>。でもPHPUnitのバージョンが新しい</li>
<li>https://github.com/cakephp/debug_kit/tree/2.2 はPHPUnit3.7使っているけど、 <a href="https://github.com/FriendsOfCake/travis">FriendsOfCake/travis</a> を使ってない。ビルドは<a href="https://travis-ci.org/cakephp/debug_kit/builds/429846172">最近通過</a>している</li>
<li>https://github.com/tsmsogn/Pas/ は <a href="https://github.com/FriendsOfCake/travis">FriendsOfCake/travis</a> を使っていて、Slackで相談したらビルドまでしていただけた。ありがたや。<a href="https://travis-ci.org/tsmsogn/Pas/builds/249863706">通過</a>している。</li>
</ul>

<h3>とにかくいろいろ試す</h3>

<p>試すのに、別のブランチを切れば良かったのですが、まぁ簡単になおるだろうと <code>Fabricate/cakephp2</code> ブランチで作業したのは、ちょっと後悔しています&hellip;.</p>

<ul>
<li>◎ <a href="https://github.com/FriendsOfCake/travis/blob/master/before_script.sh">FriendsOfCake/travisのbefore_script.sh</a> を呼び出す方法が、 <code>travis_wait</code> 付きに変わっていたので<a href="https://github.com/sizuhiko/Fabricate/commit/046548930effc61affab8acd0b64b974d52005d8">追従した</a>。ビルドが不安定なことがあったが安定した</li>
<li>× <a href="https://github.com/FriendsOfCake/travis">FriendsOfCake/travis</a> をローカルに fork して、ログを仕込んだりしてビルドを試みた（何も意味はなかった）</li>
<li>× <a href="https://github.com/FriendsOfCake/travis/blob/master/before_script.sh">FriendsOfCake/travisのbefore_script.sh</a> で <code>composer global install</code> しているPHPUnitを削除して <code>composer require</code> で入れてみた（変化なし）</li>
<li>× <code>include_path</code> の先頭にPHPUnitへのパスを設定してみた（変化なし）</li>
<li>△ Slackで <code>CAKE_REF</code> 使うと良いかも？というアドバイスをいただいたので、入れてみた。PHPUnitへの参照としては変化がなかったけど、有用そうなのでそのまま採用した。</li>
<li>× 既存で <code>composer.json</code> があるのが、<a href="https://github.com/FriendsOfCake/travis">FriendsOfCake/travis</a>を使っている他のプラグインと違ったので、 <code>.travis.yml</code> の <code>before_script</code> で消してみた（変化なし）</li>
</ul>

<p>で、TravisCIの画面（のビルド結果コンソールではない部分）を見比べていたら、テストが通過している画面にはワーニングが表示されていて、自分のビルドには出ていないことが判明。
さらに<a href="https://travis-ci.org/sizuhiko/Fabricate/jobs/246923803">過去に通過していたビルド</a>にもワーニングが表示されていることを確認した。</p>

<h3>何のワーニング？</h3>

<blockquote>
<p>This job ran on our Precise environment, which is in the process of being decommissioned. Please read about the status of the rollout on the blog, and take note that you can explicitly stay on Precise by specifying dist: precise in your .travis.yml.</p>
</blockquote>

<p>意訳すると「このビルドは、Precise環境で実行されたけど、廃止予定です。もし続けて使いたければ .travis.yml に <code>dist：precise</code> と書いておけばOK。続きはBlogで」みたいなことです。
<a href="https://blog.travis-ci.com/2017-08-31-trusty-as-default-status">the blog</a>も見ておいてください。</p>

<h3>precise 指定でビルドしてみる</h3>

<p><code>.travis.yml</code> に <code>dist：precise</code> を追加してみると&hellip;.</p>

<p>ビルドが通過しました！！</p>

<p>ついでに古い composer.lock と composer.json も更新/削除しておきました。</p>

<h3>詳しく調べた</h3>

<p>現在のTravisでビルドするLinuxイメージは <code>trusty</code> なのですが、そこでPHP5.4などを利用しようとすると以下のようなメッセージがビルドコンソール中に表示されます。</p>

<blockquote>
<p>5.4 is not pre-installed; installing
Downloading archive: https://s3.amazonaws.com/travis-php-archives/binaries/ubuntu/14.04/x86<em>64/php-5.4.tar.bz2
9.31s$ curl -s -o archive.tar.bz2 $archive</em>url &amp;&amp; tar xjf archive.tar.bz2 &ndash;directory /</p>
</blockquote>

<p>ということで、PHPのイメージファイルをダウンロード＆解凍してみました。
すると、PHPUnitが同梱されています。
そのバージョンは <code>PHPUnit 4.8.35</code> でした。
そこかー、それ参照しちゃいましたか&hellip;</p>

<h3>まとめ</h3>

<p>CakePHP2プラグインを作ったことがあって、最近ビルドしていない方は漏れなく同様の事象になると思います。
これは<a href="https://github.com/FriendsOfCake/travis">FriendsOfCake/travis</a>使っている、使っていないに関係なくです。</p>

<p>あなたの <code>.travis.yml</code> に <code>dist：precise</code> が設定されていなければ、今のうちに追加しておきましょう。</p>

<p>ではステキなCakePHPライフを！</p>



    <div class="row">
      <div class="small-12 medium-5 large-5 small-centered columns blog-social">
        <div class="shareon" data-url="http://blog.open.tokyo.jp/2018/10/23/cakephp2-plugin-travis-issue.html">
          <a class="twitter" data-title="CakePHP2プラグインをTravisCIでビルドしているときに気をつけること"></a>
          <a class="facebook" data-title="CakePHP2プラグインをTravisCIでビルドしているときに気をつけること"></a>
        </div>
      </div>
      <div class="clearfix"></div>
    </div>

  </div>
</article>
<article>
  <h1 class="title"><a href="/2018/09/24/google-cloud-builder-php72.html">Google Cloud Builder を使って PHP7.2 のアプリケーションを GAE に継続的デプロイする</a></h1>
  <p class="postdate"><a href="/2018/09/24.html" title="Permanent link">Monday, September 24, 2018 06:52:00 PM</a></p>
  <p class="tags">
      <a href="/tags/php.html" rel="tag">PHP</a>
      <a href="/tags/gae.html" rel="tag">GAE</a>
      <a href="/tags/googlecloudbuilder.html" rel="tag">GoogleCloudBuilder</a>
  </p>
  <div class="content">
    <!-- use article.summary(250) if you have Nokogiri available to show just
       the first 250 characters -->
    <p>この記事は、<a href="/2018/08/03/phpcon-kansai-2018.html">PHPカンファレンス関西2018に参加してGAEに継続的デプロイする方法について発表してきました</a>の中で紹介している<a href="https://github.com/sizuhiko/gccb-php-se-sample">Google Cloud Builderを利用してGAEのPHP SEへ自動デプロイするサンプルコード</a>を最新に更新した解説記事です。</p>

<h3>何が変わったのか？</h3>

<p>PHPカンファレンス関西2018時点では以下のようになっていました。</p>

<ul>
<li>GAEのPHPは5.5</li>
<li>Google Cloud Container Builder を利用</li>
</ul>

<p>今日では以下のようになっています。</p>

<ul>
<li>GAEのPHPで7.2が利用可能に</li>
<li>Cloud Container Builder は Cloud Build という名前に変更</li>
</ul>

<h4>gcloud コマンド利用上での変更</h4>

<p>Dockerのバージョンがあがったことで <code>gcloud</code> コマンドから <code>docker</code> コマンドを実行するときに認証設定が必要になりました。
READMEにも反映していますが、以下のコマンドを実行しておく必要があります。</p>
<div class="highlight"><pre class="highlight plaintext"><code>$ gcloud auth configure-docker
</code></pre></div>
<p><code>gcloud</code> コマンドをアップデートしてみましたが、「PUSH TO DEPLOY のトリガーをセットする」については、まだできませんでした。
<a href="https://cloud.google.com/cloud-build/docs/api/reference/rest/v1/projects.builds/create">projects.builds/create API</a>は実装されているようなので、CLIから実行できるようになるのを心待ちにしています。</p>

<h4>composer イメージの更新</h4>

<p>PHP7.2を利用できるようになったので、 <code>composer/composer:php5</code> のDockerイメージを <code>composer/composer:alpine</code> に変更しました。
<code>composer/composer</code> でも良かったのですが、 <code>alpine</code> ベースの方が軽量だし、いいですよね。</p>

<h4>app.yaml の更新</h4>

<p>基本的にここがメインなのですが、以下のような変更点があります。</p>

<ul>
<li>runtime を <code>php72</code> に変更</li>
<li><code>handlers</code> の <code>application_readable</code> は常に <code>true</code> に</li>
<li><code>skip_files</code> でデプロイしないファイルの指定は <code>.gcloudignore</code> ファイルへ移行する</li>
<li><code>/</code> アクセスされたときの <code>script</code> 指定は <code>auto</code> に（ただし <code>index.php</code> か <code>public/index.php</code> の場合のみで、他はパスを指定）</li>
</ul>

<p>こういった変更は、<a href="https://cloud.google.com/appengine/docs/standard/php7/php-differences">Compatibility issues between PHP 5.5 and PHP 7.2</a>にまとめられています。
※ <code>skip_files</code> については書いていないので、実際にマイグレーションして確認は必要です（これは5.5から7.2の変更というよりは <code>gcloud</code> コマンドのバージョンアップに伴うものだから書いていないのかもしれないです）。</p>

<h3>デプロイしてみよう</h3>

<p>あとは、用意したコマンドを順番に実行してデプロイ環境を整備してから、 <code>git push</code> するだけで、PHP7.2のアプリケーションがデプロイできます。
githubのリポジトリが <code>Cloud Source Repositories</code> にミラーされるところなどは変わっていませんでした。</p>

<h3>さいごに</h3>

<p>この内容は <a href="https://phpcondo.connpass.com/event/93953/">プレPHPカンファレンス北海道</a> で発表する予定だったのですが、地震の影響でイベントが中止となったため、このブログにまとめました。</p>

<p>どこかで機会があれば、GAEとPHP7.2について発表してみたいなと思います。</p>



    <div class="row">
      <div class="small-12 medium-5 large-5 small-centered columns blog-social">
        <div class="shareon" data-url="http://blog.open.tokyo.jp/2018/09/24/google-cloud-builder-php72.html">
          <a class="twitter" data-title="Google Cloud Builder を使って PHP7.2 のアプリケーションを GAE に継続的デプロイする"></a>
          <a class="facebook" data-title="Google Cloud Builder を使って PHP7.2 のアプリケーションを GAE に継続的デプロイする"></a>
        </div>
      </div>
      <div class="clearfix"></div>
    </div>

  </div>
</article>
<article>
  <h1 class="title"><a href="/2018/09/24/web-i2c-element-update.html">web-i2cエレメントをより使いやすくしました。</a></h1>
  <p class="postdate"><a href="/2018/09/24.html" title="Permanent link">Monday, September 24, 2018 03:41:00 PM</a></p>
  <p class="tags">
      <a href="/tags/chirimen.html" rel="tag">CHIRIMEN</a>
      <a href="/tags/webcomponents.html" rel="tag">WebComponents</a>
  </p>
  <div class="content">
    <!-- use article.summary(250) if you have Nokogiri available to show just
       the first 250 characters -->
    <p>先日の<a href="/2018/08/13/maker-faire-tokyo-2018.html">Maker Faire Tokyo 2018 に CHIRIMENコミュニティで参加しました</a>で <code>web-i2c-element はどうなの？</code> 
に記述した改良ポイントを使った<a href="https://github.com/sizuhiko/chirimen-piano">chirimen-piano</a>をアップしました。</p>

<h3>変更したポイント：</h3>

<p>変更の概要は以下のとおりです。</p>

<ul>
<li><code>no-web-i2c</code> スロットを指定すると、非対応メッセージを表示できるようになった</li>
<li><code>WebI2cSensorElement</code> を使って、センサー毎の共通実装をなくし、より簡単にセンサーのカスタムエレメントが実装できるようになった</li>
<li>Polymer使ってなくても、タグだけを使ってセンサーの値が取得できるようなサンプルに変更した</li>
</ul>

<p>では、それぞれの変更を詳しく見ていきましょう。</p>

<h3>非対応メッセージの表示</h3>

<p><a href="https://github.com/sizuhiko/chirimen-piano">chirimen-piano</a>のリポジトリにある<a href="https://github.com/sizuhiko/chirimen-piano/blob/master/index.html">index.html</a>ファイルを見てましょう。</p>
<div class="highlight"><pre class="highlight html"><code><span class="nt">&lt;web-i2c&gt;</span>
  <span class="nt">&lt;grove-touch</span> <span class="na">slave-address=</span><span class="s">"0x5a"</span><span class="nt">&gt;&lt;/grove-touch&gt;</span>
  <span class="nt">&lt;grove-gesture</span> <span class="na">slave-address=</span><span class="s">"0x73"</span><span class="nt">&gt;&lt;/grove-gesture&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">slot=</span><span class="s">"no-web-i2c"</span><span class="nt">&gt;</span>
    このデバイスはCHIRIMENではありませんが、ピアノ演奏はお楽しみいただけます。
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/web-i2c&gt;</span>
</code></pre></div>
<p><code>web-i2c</code> タグの内側に <code>no-web-i2c</code> というslot名のタグを記述することで、
もしCHIRIMEN以外のデバイス（例えばPCなど）から、このページを表示するとメッセージを表示することができるようになります。
試しに、PCから<a href="http://blog.open.tokyo.jp/chirimen-piano/">chirimen-pianoのデモページ</a>にアクセスしてみてください。</p>

<h3>WebI2cSensorElementを利用したカスタムエレメントの記述</h3>

<p>最初のバージョンでは、 <code>PolymerElement</code> を使っていたため共通的な実装が多くなっていたのですが、
いくつかのセンサー実装をしてみて共通化できそうな箇所もわかってきたので、I2C用の親クラスを作ることにしました。</p>

<p><code>WebI2cSensorElement</code> を使ったセンサーのクラスとして、GROVEタッチとGROVEジェスチャーのカスタムエレメントを作りました。</p>

<p>例として<a href="https://github.com/sizuhiko/chirimen-piano">chirimen-piano</a>のリポジトリにある<a href="https://github.com/sizuhiko/chirimen-piano/blob/master/src/chirimen-piano-app/grove-touch.js">grove-touch.js</a>ファイルを見てましょう。</p>
<div class="highlight"><pre class="highlight javascript"><code><span class="kd">class</span> <span class="nx">GroveTouch</span> <span class="kd">extends</span> <span class="nx">WebI2cSensorElement</span> <span class="p">{</span>
  <span class="k">async</span> <span class="nx">init</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">_autoRead</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="k">await</span> <span class="k">this</span><span class="p">.</span><span class="nx">_i2cSlave</span><span class="p">.</span><span class="nx">write8</span><span class="p">(</span><span class="mh">0x2b</span><span class="p">,</span><span class="mh">0x01</span><span class="p">);</span>
    <span class="k">await</span> <span class="k">this</span><span class="p">.</span><span class="nx">_i2cSlave</span><span class="p">.</span><span class="nx">write8</span><span class="p">(</span><span class="mh">0x2c</span><span class="p">,</span><span class="mh">0x01</span><span class="p">);</span>
    <span class="k">await</span> <span class="k">this</span><span class="p">.</span><span class="nx">_i2cSlave</span><span class="p">.</span><span class="nx">write8</span><span class="p">(</span><span class="mh">0x2d</span><span class="p">,</span><span class="mh">0x01</span><span class="p">);</span>
    <span class="k">await</span> <span class="k">this</span><span class="p">.</span><span class="nx">_i2cSlave</span><span class="p">.</span><span class="nx">write8</span><span class="p">(</span><span class="mh">0x2e</span><span class="p">,</span><span class="mh">0x01</span><span class="p">);</span>
    <span class="k">await</span> <span class="k">this</span><span class="p">.</span><span class="nx">_i2cSlave</span><span class="p">.</span><span class="nx">write8</span><span class="p">(</span><span class="mh">0x2f</span><span class="p">,</span><span class="mh">0x01</span><span class="p">);</span>
    <span class="k">await</span> <span class="k">this</span><span class="p">.</span><span class="nx">_i2cSlave</span><span class="p">.</span><span class="nx">write8</span><span class="p">(</span><span class="mh">0x30</span><span class="p">,</span><span class="mh">0x01</span><span class="p">);</span>
    <span class="k">await</span> <span class="k">this</span><span class="p">.</span><span class="nx">_i2cSlave</span><span class="p">.</span><span class="nx">write8</span><span class="p">(</span><span class="mh">0x31</span><span class="p">,</span><span class="mh">0xff</span><span class="p">);</span>
    <span class="k">await</span> <span class="k">this</span><span class="p">.</span><span class="nx">_i2cSlave</span><span class="p">.</span><span class="nx">write8</span><span class="p">(</span><span class="mh">0x32</span><span class="p">,</span><span class="mh">0x02</span><span class="p">);</span>
    <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="mi">12</span><span class="o">*</span><span class="mi">2</span><span class="p">;</span><span class="nx">i</span><span class="o">+=</span><span class="mi">2</span><span class="p">){</span>
      <span class="c1">// console.log(i);</span>
      <span class="kd">var</span> <span class="nx">address</span> <span class="o">=</span> <span class="mh">0x41</span><span class="o">+</span><span class="nx">i</span><span class="p">;</span>
      <span class="c1">// console.log(address);</span>
      <span class="k">await</span> <span class="k">this</span><span class="p">.</span><span class="nx">_i2cSlave</span><span class="p">.</span><span class="nx">write8</span><span class="p">(</span><span class="nx">address</span><span class="p">,</span><span class="mh">0x0f</span><span class="p">);</span>
      <span class="k">await</span> <span class="k">this</span><span class="p">.</span><span class="nx">_i2cSlave</span><span class="p">.</span><span class="nx">write8</span><span class="p">(</span><span class="nx">address</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="mh">0x0a</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">await</span> <span class="k">this</span><span class="p">.</span><span class="nx">_i2cSlave</span><span class="p">.</span><span class="nx">write8</span><span class="p">(</span><span class="mh">0x5d</span><span class="p">,</span><span class="mh">0x04</span><span class="p">);</span>
    <span class="k">await</span> <span class="k">this</span><span class="p">.</span><span class="nx">_i2cSlave</span><span class="p">.</span><span class="nx">write8</span><span class="p">(</span><span class="mh">0x5e</span><span class="p">,</span><span class="mh">0x0c</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="k">async</span> <span class="nx">read</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">value</span> <span class="o">=</span> <span class="k">await</span> <span class="k">this</span><span class="p">.</span><span class="nx">_i2cSlave</span><span class="p">.</span><span class="nx">read16</span><span class="p">(</span><span class="mh">0x00</span><span class="p">);</span>
    <span class="c1">// console.log(value);</span>
    <span class="kd">var</span> <span class="nx">array</span> <span class="o">=</span> <span class="p">[];</span>
    <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">cnt</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">cnt</span> <span class="o">&lt;</span> <span class="mi">12</span><span class="p">;</span> <span class="nx">cnt</span> <span class="o">++</span><span class="p">){</span>
      <span class="nx">array</span><span class="p">.</span><span class="nx">push</span><span class="p">(((</span><span class="nx">value</span> <span class="o">&amp;</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="nx">cnt</span><span class="p">))</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)?</span><span class="kc">true</span><span class="p">:</span><span class="kc">false</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span> <span class="o">||</span> <span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">array</span><span class="p">)</span> <span class="o">!=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">)))</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">_setValue</span><span class="p">(</span><span class="nx">array</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="nb">window</span><span class="p">.</span><span class="nx">customElements</span><span class="p">.</span><span class="nx">define</span><span class="p">(</span><span class="dl">'</span><span class="s1">grove-touch</span><span class="dl">'</span><span class="p">,</span> <span class="nx">GroveTouch</span><span class="p">);</span>
</code></pre></div>
<p>まず <code>WebI2cSensorElement</code> を継承したクラスを定義します。
このクラスには2つのオーバライド可能なメソッドがあります。</p>

<ul>
<li>init</li>
<li>read</li>
</ul>

<p>どちらも <code>async</code> メソッドにすることで I2Cスレーブデバイスからの応答を待ち合わせる(<code>await</code>)ことができるようになっています。</p>

<p><code>WebI2cSensorElement</code> は、 <code>init</code> 呼び出し時にメンバー変数として <code>_i2cSlave</code> が利用可能になっています。
これはWeb I2Cのスレーブオブジェクトで、どんなメソッドが使えるかは<a href="https://rawgit.com/browserobo/WebI2C/master/index.html">Web I2C API Specification</a>の <code>4.6 Reading the value</code> や <code>4.8 Writing a value</code> を参照ください。
サンプルコードの <code>slaveDevice</code> が <code>_i2cSlave</code> と同じものになります。</p>

<h4>init を実装する</h4>

<p>init ではI2Cデバイスの初期化コードを記述します。
とくに戻り値は必要ありません。</p>

<p>もしセンサーが読み取り可能なら、 <code>this._autoRead = true;</code> のように設定してください。
これを設定すると、インターバル間隔(デフォルトは100ミリ秒)ごとに <code>read</code> メソッドを呼び出してくれます。</p>

<h4>read を実装する</h4>

<p>init で <code>_autoRead</code> を <code>true</code> に設定した場合、インターバル間隔ごとに呼び出されます。
センサーの値を読み取って、値が変わった場合は <code>this._setValue(value)</code> を呼び出してください。
エレメントの <code>value</code> プロパティに値が保持されると同時に、 <code>value-changed</code> イベントが発行されます。</p>

<h3>普通のHTMLからセンサーを取り扱う</h3>

<p>ふたたび<a href="https://github.com/sizuhiko/chirimen-piano">chirimen-piano</a>のリポジトリにある<a href="https://github.com/sizuhiko/chirimen-piano/blob/master/index.html">index.html</a>ファイルを見てましょう。</p>
<div class="highlight"><pre class="highlight html"><code><span class="nt">&lt;script&gt;</span>
  <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="dl">'</span><span class="s1">grove-touch</span><span class="dl">'</span><span class="p">).</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">value-changed</span><span class="dl">'</span><span class="p">,</span> <span class="nx">e</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="dl">'</span><span class="s1">chirimen-piano-app</span><span class="dl">'</span><span class="p">).</span><span class="nx">touchChanged</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">detail</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>
  <span class="p">});</span>
  <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="dl">'</span><span class="s1">grove-gesture</span><span class="dl">'</span><span class="p">).</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">value-changed</span><span class="dl">'</span><span class="p">,</span> <span class="nx">e</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="dl">'</span><span class="s1">chirimen-piano-app</span><span class="dl">'</span><span class="p">).</span><span class="nx">gestureChanged</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">detail</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>
  <span class="p">});</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre></div>
<p>センサー値の変更を受け取るには、センサーエレメントに対して <code>value-changed</code> イベントのリスナーを設定します。
値はイベントオブジェクトの <code>detail.value</code> に入っていて、センサーによってセットされる値（型も含め）が違います。</p>

<p>たとえば <code>grouve-touch</code> エレメントは、タッチセンサーの数分のBoolean配列がセットされ、 <code>grove-gesture</code> エレメントは、発生したジェスチャー名がセットされます。</p>

<h3>さいごに</h3>

<p>このようにHTMLからセンサーの値をコントロールできたり、センサーのエレメントを簡単に実装できるようになりました。
今後は、それぞれのエレメントやベースクラスを <code>npm install</code> で取得できるようにしたいと思っています。</p>

<p>また、以前作った <code>WebGpioElement</code> も <code>Polymer3</code> で書き換えていきたいなと思っています。</p>

<p>WebComponents と CHIRIMEN の融合は、私がそれぞれのコミュニティに参加して得られたもののアウトプットです。
もしこれらの活動に興味がありましたら、<a href="https://polymer-jp.org/">Polymer Japan</a> <a href="https://chirimen.org/">CHIRIMEN Open Hardware</a> <a href="https://polymercoedo.doorkeeper.jp/">Polymer.co-edo</a> などの活動に参加ください。</p>



    <div class="row">
      <div class="small-12 medium-5 large-5 small-centered columns blog-social">
        <div class="shareon" data-url="http://blog.open.tokyo.jp/2018/09/24/web-i2c-element-update.html">
          <a class="twitter" data-title="web-i2cエレメントをより使いやすくしました。"></a>
          <a class="facebook" data-title="web-i2cエレメントをより使いやすくしました。"></a>
        </div>
      </div>
      <div class="clearfix"></div>
    </div>

  </div>
</article>

<nav aria-label="ページング">
  <p class="pagenav">
      <a href="/page/19/">« Prev</a>
        <a href="/page/16/">16</a>
        <a href="/page/17/">17</a>
        <a href="/page/18/">18</a>
        <a href="/page/19/">19</a>
        <b>20</b>
        <a href="/page/21/">21</a>
        <a href="/page/22/">22</a>
        <a href="/page/23/">23</a>
        <a href="/page/24/">24</a>
      <a href="/page/21/">Next »</a>
  </p>
</nav>
<script type="text/javascript" src="/javascripts/image-resize-ie.js"></script>


        </div>
      </div>
    </main>

      <aside id="sidewrap">
        <div id="side">
          <section class="sidebox sidelinx">
            <h2>Recent Articles</h2>
            <div class="pad">
              <ul>
                  <li><a href="/2025/04/16/next-js-standalone-build-on-app-runner-with-x-ray-tracing.html">Next.js standalone ビルドしたアプリを App Runner で動かして X-Ray で計測する</a> <span>2025/04/16</span></li>
                  <li><a href="/2025/04/15/next-js-standalone-build-with-iast-agent.html">Next.js を standalone ビルドしたアプリで New Relic エージェントを動かす</a> <span>2025/04/15</span></li>
                  <li><a href="/2025/04/14/phpcon-odawara-2025.html">PHPカンファレンス小田原2025に参加しました</a> <span>2025/04/14</span></li>
                  <li><a href="/2025/04/11/next-js-deploy-to-apprunner.html">Next.js で作ったアプリケーションを AppRunner にデプロイする</a> <span>2025/04/11</span></li>
                  <li><a href="/2025/04/08/apprunner-deploy-from-cdk-is-easy-really.html">AppRunner へのデプロイは cdk でサクッとできるのか？</a> <span>2025/04/08</span></li>
                  <li><a href="/2024/06/23/php-conference-fukuoka-2024.html">PHP カンファレンス福岡2024に参加した</a> <span>2024/06/23</span></li>
                  <li><a href="/2024/06/03/get-started-with-graphql-api-server-with-appsync-js.html">APPSYNC_JS (AppSync JavaScript) で始める GraphQL API サーバー</a> <span>2024/06/03</span></li>
                  <li><a href="/2024/05/30/renovate-on-codecommit.html">CodeCommit で Renovate を使う</a> <span>2024/05/30</span></li>
                  <li><a href="/2024/05/28/using-codecommit-codebuild-like-a-github-and-the-actions.html">CodeCommit と CodeBuild を GitHub と Actions の組み合わせのように使う</a> <span>2024/05/28</span></li>
                  <li><a href="/2024/05/01/story-for-migrate-hobby-web-service-while-a-year-part-5.html">GAE gen1 で動いている PHP5.5 で作った個人開発サービスを gen2 PHP8.2 へ移行した1年記 〜 その 5</a> <span>2024/05/01</span></li>
              </ul>
            </div>
          </section>
          <section class="sidebox" id="tagcloud">
            <h2>Tags</h2>
            <div class="pad">
              <ul class="nobullets clearfix">
                    <li class="size0">
                      <a href="/tags/apprunner.html" rel="tag">AppRunner</a>
                    </li>
                    <li class="size1">
                      <a href="/tags/aws.html" rel="tag">AWS</a>
                    </li>
                    <li class="size5">
                      <a href="/tags/php.html" rel="tag">PHP</a>
                    </li>
                    <li class="size0">
                      <a href="/tags/phpcon.html" rel="tag">PHPcon</a>
                    </li>
                    <li class="size1">
                      <a href="/tags/javascript.html" rel="tag">JavaScript</a>
                    </li>
                    <li class="size1">
                      <a href="/tags/gae.html" rel="tag">GAE</a>
                    </li>
                    <li class="size0">
                      <a href="/tags/toiletevolution.html" rel="tag">toiletevolution</a>
                    </li>
                    <li class="size0">
                      <a href="/tags/phpkansai.html" rel="tag">phpkansai</a>
                    </li>
                    <li class="size2">
                      <a href="/tags/typescript.html" rel="tag">TypeScript</a>
                    </li>
                    <li class="size1">
                      <a href="/tags/aws-sdk.html" rel="tag">aws-sdk</a>
                    </li>
                    <li class="size0">
                      <a href="/tags/aws-sdk-v3.html" rel="tag">aws-sdk@v3</a>
                    </li>
                    <li class="size1">
                      <a href="/tags/jest.html" rel="tag">Jest</a>
                    </li>
                    <li class="size0">
                      <a href="/tags/import-maps.html" rel="tag">import maps</a>
                    </li>
                    <li class="size0">
                      <a href="/tags/dependencies-management.html" rel="tag">Dependencies Management</a>
                    </li>
                    <li class="size0">
                      <a href="/tags/dependabot.html" rel="tag">dependabot</a>
                    </li>
                    <li class="size0">
                      <a href="/tags/gcp.html" rel="tag">GCP</a>
                    </li>
                    <li class="size0">
                      <a href="/tags/asucon.html" rel="tag">asucon</a>
                    </li>
                    <li class="size3">
                      <a href="/tags/polymer.html" rel="tag">Polymer</a>
                    </li>
                    <li class="size2">
                      <a href="/tags/polymer-co-edo.html" rel="tag">Polymer.co-edo</a>
                    </li>
                    <li class="size1">
                      <a href="/tags/chirimen.html" rel="tag">CHIRIMEN</a>
                    </li>
                    <li class="size1">
                      <a href="/tags/iot.html" rel="tag">IoT</a>
                    </li>
                    <li class="size0">
                      <a href="/tags/wot.html" rel="tag">WoT</a>
                    </li>
                    <li class="size4">
                      <a href="/tags/cakephp.html" rel="tag">CakePHP</a>
                    </li>
                    <li class="size0">
                      <a href="/tags/cakefest.html" rel="tag">CakeFest</a>
                    </li>
                    <li class="size2">
                      <a href="/tags/webcomponents.html" rel="tag">WebComponents</a>
                    </li>
                    <li class="size0">
                      <a href="/tags/toiletevolution.html" rel="tag">ToiletEvolution</a>
                    </li>
                    <li class="size0">
                      <a href="/tags/web-components.html" rel="tag">Web Components</a>
                    </li>
                    <li class="size0">
                      <a href="/tags/cakephp3.html" rel="tag">CakePHP3</a>
                    </li>
                    <li class="size1">
                      <a href="/tags/bdd.html" rel="tag">BDD</a>
                    </li>
                    <li class="size1">
                      <a href="/tags/behat.html" rel="tag">Behat</a>
                    </li>
                    <li class="size0">
                      <a href="/tags/fixture.html" rel="tag">fixture</a>
                    </li>
                    <li class="size0">
                      <a href="/tags/test.html" rel="tag">Test</a>
                    </li>
                    <li class="size0">
                      <a href="/tags/phpmatsuri.html" rel="tag">phpmatsuri</a>
                    </li>
                    <li class="size1">
                      <a href="/tags/coverflow.html" rel="tag">CoverFlow</a>
                    </li>
                    <li class="size1">
                      <a href="/tags/flex.html" rel="tag">Flex</a>
                    </li>
              </ul>
            </div>
          </section>
          <section class="sidebox sidelinx">
            <h2>By Year</h2>
            <div class="pad">
              <ul>
                  <li><a href="/2025.html">2025</a> (5)</li>
                  <li><a href="/2024.html">2024</a> (10)</li>
                  <li><a href="/2023.html">2023</a> (12)</li>
                  <li><a href="/2022.html">2022</a> (14)</li>
                  <li><a href="/2021.html">2021</a> (1)</li>
                  <li><a href="/2020.html">2020</a> (6)</li>
                  <li><a href="/2019.html">2019</a> (41)</li>
                  <li><a href="/2018.html">2018</a> (31)</li>
                  <li><a href="/2017.html">2017</a> (7)</li>
                  <li><a href="/2016.html">2016</a> (5)</li>
                  <li><a href="/2015.html">2015</a> (13)</li>
                  <li><a href="/2014.html">2014</a> (14)</li>
                  <li><a href="/2013.html">2013</a> (6)</li>
                  <li><a href="/2012.html">2012</a> (7)</li>
                  <li><a href="/2011.html">2011</a> (11)</li>
                  <li><a href="/2010.html">2010</a> (3)</li>
                  <li><a href="/2009.html">2009</a> (10)</li>
                  <li><a href="/2008.html">2008</a> (16)</li>
              </ul>
            </div>
          </section>
          <section class="sidebox sidelinx">
            <h2>Twitter</h2>
            <a class="twitter-timeline" data-lang="ja" href="https://twitter.com/sizuhiko?ref_src=twsrc%5Etfw">Tweets by sizuhiko</a> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>            
          </section>
        </div>
      </aside>

      <footer id="footer">
        <div id="footer2">
          <div class="clear"></div>
        </div>
    </footer>
  </body>
</html>
